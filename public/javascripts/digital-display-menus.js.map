{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/assets/javascripts/digital-display-menus.js","webpack:///./app/assets/javascripts/digital-display/DigitalDisplayApp.js","webpack:///./app/assets/javascripts/digital-display/DigitalDisplayPreview.js","webpack:///./app/assets/javascripts/digital-display/FontSelect.js","webpack:///./app/assets/javascripts/digital-display/OrientationInput.js","webpack:///./app/assets/javascripts/digital-display/RotationIntervalSelect.js","webpack:///./app/assets/javascripts/digital-display/ThemeSelect.js","webpack:///./app/assets/javascripts/digital-display/previewPath.js","webpack:///./app/assets/javascripts/polyfills/Array.js","webpack:///./app/assets/javascripts/shared/AddButton.js","webpack:///./app/assets/javascripts/shared/AvailableListGroup.js","webpack:///./app/assets/javascripts/shared/AvailableListItem.js","webpack:///./app/assets/javascripts/shared/ChosenListGroup.js","webpack:///./app/assets/javascripts/shared/ChosenListItem.js","webpack:///./app/assets/javascripts/shared/ColorPickerInput.js","webpack:///./app/assets/javascripts/shared/HelpIcon.js","webpack:///./app/assets/javascripts/shared/ListItemImageChoices.js","webpack:///./app/assets/javascripts/shared/ListTypeIcon.js","webpack:///./app/assets/javascripts/shared/MenuFormButtons.js","webpack:///./app/assets/javascripts/shared/Panel.js","webpack:///./app/assets/javascripts/shared/RemoveButton.js","webpack:///./app/assets/javascripts/shared/ShowDescriptionInput.js","webpack:///./app/assets/javascripts/shared/ShowPriceInput.js","webpack:///./app/assets/javascripts/shared/attributeNameResolver.js","webpack:///./app/assets/javascripts/shared/constants.js","webpack:///./app/assets/javascripts/shared/item-types.js","webpack:///./app/assets/javascripts/shared/pluralize.js","webpack:///./app/assets/javascripts/shared/previewPathUtils.js"],"names":["bootstrap","digitalDisplayRoot","document","getElementById","window","_EVERGREEN","DigitalDisplayApp","props","digitalDisplayMenu","lists","listsAvailable","name","rotationInterval","isHorizontal","backgroundColor","textColor","listTitleColor","font","theme","handleNameChange","bind","handleFontChange","handleThemeChange","handleBackgroundColorChange","handleTextColorChange","handleListTitleColorChange","handleOrientationChange","handleRotationIntervalChange","addListToDisplay","removeListFromDisplay","handleShowPriceChange","handleDisplayNameChange","moveChosenList","state","dragIndex","hoverIndex","setState","prevState","dragList","newLists","splice","listId","listToAdd","find","list","id","filter","listToRemove","event","target","value","chosenFont","newState","forEach","attr","orientation","color","hex","chosenInterval","showPrice","show_price_on_menu","displayName","showCustomThemeFields","customThemeFieldClass","totalListCount","length","previewPath","viewDisplayButton","viewDisplayPath","themeOptions","rotationIntervalOptions","fontOptions","Component","propTypes","PropTypes","object","isRequired","array","HTML5Backend","DigitalDisplayPreview","configureOrientation","setWidth","height","width","initialWidth","toString","split","horizontalSize","verticalSize","nextProps","obj","offsetWidth","className","string","bool","FontSelect","handleChange","fontName","options","opt","onChange","map","option","index","func","OrientationInput","val","defaultProps","RotationIntervalSelect","Number","intervalOptions","number","ThemeSelect","themeName","buildMenuListId","buildMenuListListId","buildMenuListPosition","buildMenuListShowPrice","buildMenuListDisplayName","buildQueryString","base","reduce","acc","idx","params","menu_list_id","push","join","generatePreviewPath","formState","orientationParam","rotationIntervalParam","backgroundColorParam","encodeURIComponent","textColorParam","listTitleColorParam","fontParam","themeParam","seed","queryString","applyFind","applyIncludes","Array","prototype","Object","defineProperty","predicate","TypeError","o","len","thisArg","arguments","k","kValue","call","undefined","includes","searchElement","fromIndex","n","Math","max","abs","sameValueZero","x","y","isNaN","AddButton","handleClick","preventDefault","onClick","dropTargetSpec","drop","monitor","component","draggedItem","getItem","onDrop","collect","connect","connectDropTarget","dropTarget","isOver","AvailableListGroup","ifEmptyText","listGroupItems","itemsToRender","maxHeight","overflow","menuType","onAdd","style","opacity","nestedAttrsName","attributeNameResolver","resolveNestedAttrName","entityName","resolveEntityName","nestedEntityIdName","resolveNestedEntityIdName","sortedLists","sort","l1","l2","listItemProps","key","renderList","itemTypes","chosenListItem","AvailableListItem","confirm","constants","CONFIRM_TEXT","connectDragSource","isDragging","cursor","badgeContent","itemCount","menuListIdInput","menuListDestroyInput","attrIndex","href","type","itemSource","beginDrag","dragSource","availableListItem","ChosenListGroup","onShowPriceChange","onShowDescriptionChange","onDisplayNameChange","onHtmlClassesChange","onImagesListChange","onRemove","moveItem","itemTarget","hover","item","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","clientOffset","getClientOffset","hoverClientY","dragCollect","dropCollect","ChosenListItem","toggleImages","toggleSettings","showImages","showSettings","checked","itemIds","beers","imageUrl","showDescriptionInput","htmlClassesInput","show_description_on_menu","htmlClasses","imageIcon","itemsWithImages","wrapperClass","isActive","settingsCog","items_with_images","ColorPickerInput","handleFocus","handleClose","handleColorChange","showColorPicker","onChangeComplete","popover","position","zIndex","cover","right","left","picker","label","dataTest","renderPicker","HelpIcon","ListItemImageChoices","itemId","chosenItemIds","concat","itemsWithAvailableImages","show","inputs","isChecked","htmlId","imagesWithAvailableImages","beerGlass","cutlery","coffee","ICONS_BY_TYPE","iconFromType","replace","ListTypeIcon","listType","icon","MenuFormButtons","canDestroy","submitButtonText","cancelEditPath","children","deleteButton","Panel","title","headerContent","onToggleHelp","helpIcon","headerIcon","element","RemoveButton","ShowDescriptionInput","showDescriptionInputId","showDescription","defaultChecked","ShowPriceInput","showPriceInputId","attrNamesByMenuType","pdf","digitalDisplay","web","online","entityNamesByMenuType","resolveEntityIdName","listItem","word","count","initUtils","shouldShowPrice","shouldShowDescription","buildMenuListRep","num","listRep","buildMenuListHtmlClasses","buildMenuListItemsWithImages","buildMenuListShowDescription","showDesc"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACtJA;;;;AACA;;AACA;;;;;;AAEA,CAAC,SAASA,SAAT,GAAsB;AACrB,MAAMC,qBAAqBC,SAASC,cAAT,CAAwB,0BAAxB,CAA3B;;AAEA,wBAAO,8BAAC,2BAAD,EAAuBC,OAAOC,UAA9B,CAAP,EAAqDJ,kBAArD;AACD,CAJD,I;;;;;;;;;;;;;;;;;;;;;;ACJA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;AAEA;;IAEM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","file":"javascripts/digital-display-menus.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"digital-display-menus\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./app/assets/javascripts/digital-display-menus.js\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react'\nimport { render } from 'react-dom'\nimport DigitalDisplayApp from './digital-display/DigitalDisplayApp';\n\n(function bootstrap () {\n  const digitalDisplayRoot = document.getElementById('digital-display-app-root')\n\n  render(<DigitalDisplayApp {...window._EVERGREEN} />, digitalDisplayRoot)\n})()\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Panel from '../shared/Panel'\nimport AvailableListGroup from '../shared/AvailableListGroup'\nimport ChosenListGroup from '../shared/ChosenListGroup'\nimport DigitalDisplayPreview from './DigitalDisplayPreview'\nimport generatePreviewPath from './previewPath'\nimport { applyFind } from '../polyfills/Array'\nimport { DragDropContext } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport ColorPickerInput from '../shared/ColorPickerInput'\nimport ThemeSelect from './ThemeSelect'\nimport FontSelect from './FontSelect'\nimport RotationIntervalSelect from './RotationIntervalSelect'\nimport OrientationInput from './OrientationInput'\nimport Buttons from '../shared/MenuFormButtons'\n\napplyFind()\n\nclass DigitalDisplayApp extends Component {\n  constructor (props) {\n    super(props)\n    const {\n      lists,\n      listsAvailable,\n      name,\n      rotationInterval,\n      isHorizontal,\n      backgroundColor,\n      textColor,\n      listTitleColor,\n      font,\n      theme\n    } = props.digitalDisplayMenu\n\n    this.handleNameChange = this.handleNameChange.bind(this)\n    this.handleFontChange = this.handleFontChange.bind(this)\n    this.handleThemeChange = this.handleThemeChange.bind(this)\n    this.handleBackgroundColorChange = this.handleBackgroundColorChange.bind(this)\n    this.handleTextColorChange = this.handleTextColorChange.bind(this)\n    this.handleListTitleColorChange = this.handleListTitleColorChange.bind(this)\n    this.handleOrientationChange = this.handleOrientationChange.bind(this)\n    this.handleRotationIntervalChange = this.handleRotationIntervalChange.bind(this)\n    this.addListToDisplay = this.addListToDisplay.bind(this)\n    this.removeListFromDisplay = this.removeListFromDisplay.bind(this)\n    this.handleShowPriceChange = this.handleShowPriceChange.bind(this)\n    this.handleDisplayNameChange = this.handleDisplayNameChange.bind(this)\n    this.moveChosenList = this.moveChosenList.bind(this)\n\n    this.state = {\n      lists,\n      listsAvailable,\n      name,\n      isHorizontal,\n      rotationInterval,\n      backgroundColor,\n      textColor,\n      listTitleColor,\n      font,\n      theme\n    }\n  }\n\n  moveChosenList (dragIndex, hoverIndex) {\n    this.setState(prevState => {\n      const { lists } = prevState\n      const dragList = lists[dragIndex]\n      const newLists = [...lists]\n      newLists.splice(dragIndex, 1)\n      newLists.splice(hoverIndex, 0, dragList)\n      return { lists: newLists }\n    })\n  }\n\n  addListToDisplay (listId) {\n    this.setState(prevState => {\n      const { lists, listsAvailable } = prevState\n      const listToAdd = listsAvailable.find(list => list.id === listId)\n      const newLists = [...lists, listToAdd]\n      return {\n        listsAvailable: listsAvailable.filter(list => list.id !== listId),\n        lists: newLists\n      }\n    })\n  }\n\n  removeListFromDisplay (listId) {\n    this.setState(prevState => {\n      const { lists, listsAvailable } = prevState\n      const listToRemove = lists.find(list => list.id === listId)\n      const newLists = lists.filter(list => list.id !== listId)\n      return {\n        listsAvailable: [...listsAvailable, listToRemove],\n        lists: newLists\n      }\n    })\n  }\n\n  handleNameChange (event) {\n    const name = event.target.value\n    this.setState(prevState => {\n      return { name }\n    })\n  }\n\n  handleFontChange (chosenFont) {\n    const font = chosenFont.value\n    this.setState(prevState => {\n      return { font }\n    })\n  }\n\n  handleThemeChange (theme) {\n    const newState = { theme: theme.name };\n    [\n      'font',\n      'backgroundColor',\n      'textColor',\n      'listTitleColor'\n    ].forEach(attr => {\n      if (theme[attr]) {\n        newState[attr] = theme[attr]\n      }\n    })\n    this.setState(prevState => newState)\n  }\n\n  handleOrientationChange (orientation) {\n    const isHorizontal = orientation === 'horizontal'\n    this.setState(prevState => {\n      return { isHorizontal }\n    })\n  }\n\n  handleBackgroundColorChange (color) {\n    const backgroundColor = color.hex\n    this.setState(prevState => {\n      return { backgroundColor }\n    })\n  }\n\n  handleTextColorChange (color) {\n    const textColor = color.hex\n    this.setState(prevState => {\n      return { textColor }\n    })\n  }\n\n  handleListTitleColorChange (color) {\n    const listTitleColor = color.hex\n    this.setState(prevState => {\n      return { listTitleColor }\n    })\n  }\n\n  handleRotationIntervalChange (chosenInterval) {\n    const rotationInterval = chosenInterval.value\n    this.setState(prevState => {\n      return { rotationInterval }\n    })\n  }\n\n  handleShowPriceChange (listId, showPrice) {\n    this.setState(prevState => {\n      const { lists } = prevState\n      const list = lists.find(list => list.id === listId)\n      list.show_price_on_menu = showPrice\n      return { lists }\n    })\n  }\n\n  handleDisplayNameChange (listId, displayName) {\n    this.setState(prevState => {\n      const { lists } = prevState\n      const list = lists.find(list => list.id === listId)\n      list.displayName = displayName\n      return { lists }\n    })\n  }\n\n  render () {\n    const {\n      lists,\n      listsAvailable,\n      name,\n      isHorizontal,\n      rotationInterval,\n      backgroundColor,\n      textColor,\n      listTitleColor,\n      font,\n      theme\n    } = this.state\n    const showCustomThemeFields = theme === 'Custom'\n    const customThemeFieldClass = showCustomThemeFields ? 'visible' : 'invisible'\n    const totalListCount = lists.length + listsAvailable.length\n    const previewPath = generatePreviewPath(this.props.digitalDisplayMenu, this.state)\n    let viewDisplayButton\n    if (this.props.viewDisplayPath) {\n      viewDisplayButton = (\n        <a href={this.props.viewDisplayPath}\n          target='_blank'\n          className='btn btn-success pull-right'\n          data-test='view-digital-display-menu'>View</a>\n      )\n    }\n\n    return (\n      <div className='form-row'>\n        <div className='col-sm-6'>\n          <Panel title={name} icon='fas fa-tv'>\n            <div className='form-group'>\n              <label htmlFor='digital_display_menu_name'>Name</label>\n              <input\n                id='digital_display_menu_name'\n                name='digital_display_menu[name]'\n                className='form-control'\n                data-test='digital-display-menu-name'\n                type='text'\n                defaultValue={name}\n                onChange={this.handleNameChange}\n              />\n            </div>\n\n            <OrientationInput\n              className='form-group'\n              onChange={this.handleOrientationChange}\n              isHorizontal={isHorizontal}\n            />\n\n            <div className='form-row'>\n              <ThemeSelect\n                className='form-group col-sm-4'\n                onChange={this.handleThemeChange}\n                options={this.props.themeOptions}\n                value={theme}\n              />\n\n              <RotationIntervalSelect\n                className='form-group col-sm-4'\n                onChange={this.handleRotationIntervalChange}\n                options={this.props.rotationIntervalOptions}\n                value={rotationInterval}\n              />\n\n              <FontSelect\n                className={`form-group col-sm-4 ${customThemeFieldClass}`}\n                onChange={this.handleFontChange}\n                options={this.props.fontOptions}\n                value={font}\n              />\n            </div>\n\n            <div className={`form-row ${customThemeFieldClass}`}>\n              <ColorPickerInput\n                id='digital_display_menu_background_color'\n                name='digital_display_menu[background_color]'\n                className='form-group col-sm-4'\n                dataTest='digital-display-menu-background-color'\n                label='Background Color'\n                onChangeComplete={this.handleBackgroundColorChange}\n                color={backgroundColor}\n              />\n\n              <ColorPickerInput\n                id='digital_display_menu_text_color'\n                name='digital_display_menu[text_color]'\n                className='form-group col-sm-4'\n                dataTest='digital-display-menu-text-color'\n                label='Text Color'\n                onChangeComplete={this.handleTextColorChange}\n                color={textColor}\n              />\n\n              <ColorPickerInput\n                id='digital_display_menu_list_title_color'\n                name='digital_display_menu[list_title_color]'\n                className='form-group col-sm-4'\n                dataTest='digital-display-menu-list-title-color'\n                label='List Title Color'\n                onChangeComplete={this.handleListTitleColorChange}\n                color={listTitleColor}\n              />\n            </div>\n\n            <AvailableListGroup\n              totalListCount={totalListCount}\n              lists={listsAvailable}\n              menuType='digitalDisplay'\n              onAdd={this.addListToDisplay}\n              onDrop={this.removeListFromDisplay}\n            />\n            <ChosenListGroup\n              lists={lists}\n              menuType='digitalDisplay'\n              onRemove={this.removeListFromDisplay}\n              onShowPriceChange={this.handleShowPriceChange}\n              onDisplayNameChange={this.handleDisplayNameChange}\n              moveItem={this.moveChosenList}\n              onDrop={this.addListToDisplay}\n            />\n\n            <Buttons {...this.props} menuType='digital-display-menu'>\n              {viewDisplayButton}\n            </Buttons>\n          </Panel>\n        </div>\n        <div className='col-sm-6'>\n          <DigitalDisplayPreview {...{ previewPath, isHorizontal }} />\n        </div>\n      </div>\n    )\n  }\n}\n\nDigitalDisplayApp.propTypes = {\n  digitalDisplayMenu: PropTypes.object.isRequired,\n  rotationIntervalOptions: PropTypes.array,\n  fontOptions: PropTypes.array,\n  themeOptions: PropTypes.array\n}\n\nexport default DragDropContext(HTML5Backend)(DigitalDisplayApp)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Panel from '../shared/Panel'\n\nclass DigitalDisplayPreview extends Component {\n  constructor (props) {\n    super(props)\n    this.configureOrientation = this.configureOrientation.bind(this)\n    this.setWidth = this.setWidth.bind(this)\n    this.state = { height: '100%', width: '100%' }\n  }\n\n  configureOrientation (isHorizontal) {\n    const initialWidth = this.width\n    // Calculate 16:9 aspect ratio\n    const height = (initialWidth * 0.5625).toString().split('.')[0]\n    let horizontalSize, verticalSize\n\n    if (isHorizontal) {\n      horizontalSize = initialWidth\n      verticalSize = height\n    } else {\n      horizontalSize = height\n      verticalSize = initialWidth\n    }\n\n    this.setState(prevState => {\n      return { height: verticalSize, width: `${horizontalSize}px` }\n    })\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.props !== nextProps && !!this.width) {\n      const { isHorizontal } = nextProps\n      this.configureOrientation(isHorizontal)\n    }\n  }\n\n  componentDidMount () {\n    const { isHorizontal } = this.props\n    this.configureOrientation(isHorizontal)\n  }\n\n  setWidth (obj) {\n    this.width = obj.offsetWidth\n  }\n\n  render () {\n    const { height, width } = this.state\n    const className = this.props.isHorizontal ? 'preview-horizontal' : 'preview-vertical'\n\n    return (\n      <Panel className='sticky-top' title='Preview' dataTest='digital-display-menu-preview-panel'>\n        <div className='digital-display-menu-preview-wrapper' ref={this.setWidth}>\n          <object\n            className={className}\n            data={this.props.previewPath}\n            type='text/html'\n            style={{ width }}\n            height={height}\n            data-test='digital-display-menu-preview' />\n        </div>\n      </Panel>\n    )\n  }\n}\n\nDigitalDisplayPreview.propTypes = {\n  previewPath: PropTypes.string.isRequired,\n  isHorizontal: PropTypes.bool.isRequired\n}\n\nexport default DigitalDisplayPreview\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass FontSelect extends Component {\n  constructor (props) {\n    super(props)\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleChange (event) {\n    const fontName = event.target.value\n    const font = this.props.options.find(opt => opt.value === fontName)\n    this.props.onChange(font)\n  }\n\n  render () {\n    const { value, className } = this.props\n    const fontOptions = this.props.options.map((option, index) => {\n      return <option value={option.value} key={index}>{option.name}</option>\n    })\n\n    return (\n      <div className={className}>\n        <label htmlFor='digital_display_menu_font'>\n          Font\n        </label>\n        <select\n          id='digital_display_menu_font'\n          data-test='digital-display-menu-font'\n          name='digital_display_menu[font]'\n          className='form-control'\n          value={value}\n          onChange={this.handleChange}>\n          {fontOptions}\n        </select>\n      </div>\n    )\n  }\n};\n\nFontSelect.propTypes = {\n  options: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n  className: PropTypes.string\n}\n\nexport default FontSelect\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass OrientationInput extends Component {\n  constructor (props) {\n    super(props)\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleChange (event) {\n    const val = event.target.value === 'true' ? 'horizontal' : 'vertical'\n    this.props.onChange(val)\n  }\n\n  render () {\n    const { isHorizontal, className } = this.props\n    return (\n      <div className={className}>\n        <label>Orientation</label>\n        <div className='form-check'>\n          <label className='form-check-label'>\n            <input\n              type='radio'\n              name='digital_display_menu[horizontal_orientation]'\n              className='form-check-input'\n              value='true'\n              defaultChecked={isHorizontal}\n              onClick={this.handleChange}\n              data-test='digital-display-menu-horizontal-orientation-true'\n            />\n            Horizontal\n          </label>\n        </div>\n        <div className='form-check'>\n          <label className='form-check-label'>\n            <input\n              type='radio'\n              name='digital_display_menu[horizontal_orientation]'\n              className='form-check-input'\n              value='false'\n              defaultChecked={!isHorizontal}\n              onClick={this.handleChange}\n              data-test='digital-display-menu-horizontal-orientation-false'\n            />\n            Vertical\n          </label>\n        </div>\n      </div>\n    )\n  }\n}\n\nOrientationInput.propTypes = {\n  className: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  isHorizontal: PropTypes.bool.isRequired\n}\n\nOrientationInput.defaultProps = {\n  className: 'form-group'\n}\n\nexport default OrientationInput\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass RotationIntervalSelect extends Component {\n  constructor (props) {\n    super(props)\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleChange (event) {\n    const chosenInterval = event.target.value\n    const rotationInterval = this.props.options.find(opt => {\n      return opt.value === Number(chosenInterval)\n    })\n    this.props.onChange(rotationInterval)\n  }\n\n  render () {\n    const { value, className } = this.props\n    const intervalOptions = this.props.options.map((option, index) => {\n      return <option value={option.value} key={index}>{option.name}</option>\n    })\n\n    return (\n      <div className={className}>\n        <label htmlFor='digital_display_menu_rotation_interval'>\n          Rotation Interval\n        </label>\n        <select\n          id='digital_display_menu_rotation_interval'\n          data-test='digital-display-menu-rotation-interval'\n          name='digital_display_menu[rotation_interval]'\n          className='form-control'\n          value={value}\n          onChange={this.handleChange}>\n          {intervalOptions}\n        </select>\n      </div>\n    )\n  }\n};\n\nRotationIntervalSelect.propTypes = {\n  options: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.number.isRequired,\n  className: PropTypes.string\n}\n\nexport default RotationIntervalSelect\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass ThemeSelect extends Component {\n  constructor (props) {\n    super(props)\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleChange (event) {\n    const themeName = event.target.value\n    const theme = this.props.options.find(opt => opt.name === themeName)\n    this.props.onChange(theme)\n  }\n\n  render () {\n    const { value, className } = this.props\n    const themeOptions = this.props.options.map((theme, index) => {\n      return <option value={theme.name} key={index}>{theme.name}</option>\n    })\n\n    return (\n      <div className={className}>\n        <label htmlFor='digital_display_menu_theme'>\n          Theme\n        </label>\n        <select\n          id='digital_display_menu_theme'\n          data-test='digital-display-menu-theme'\n          name='digital_display_menu[theme]'\n          className='form-control'\n          value={value}\n          onChange={this.handleChange}>\n          {themeOptions}\n        </select>\n      </div>\n    )\n  }\n};\n\nThemeSelect.propTypes = {\n  options: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n  className: PropTypes.string\n}\n\nexport default ThemeSelect\n","import initPreviewUtils from '../shared/previewPathUtils'\n\nconst {\n  buildMenuListId,\n  buildMenuListListId,\n  buildMenuListPosition,\n  buildMenuListShowPrice,\n  buildMenuListDisplayName\n} = initPreviewUtils('digitalDisplay')\n\nfunction buildQueryString (lists, base) {\n  return lists.reduce((acc, list, idx) => {\n    let params = [\n      buildMenuListListId(list, idx),\n      buildMenuListPosition(list, idx),\n      buildMenuListShowPrice(list, idx),\n      buildMenuListDisplayName(list, idx, list.displayName)\n    ]\n    if (list.menu_list_id) {\n      params.push(buildMenuListId(list, idx))\n    }\n    return acc + '&' + params.join('&')\n  }, base)\n}\n\nfunction generatePreviewPath (digitalDisplayMenu, formState) {\n  const {\n    lists,\n    isHorizontal,\n    rotationInterval,\n    backgroundColor,\n    textColor,\n    listTitleColor,\n    font,\n    theme\n  } = formState\n  const { previewPath, id } = digitalDisplayMenu\n  const orientationParam = `digital_display_menu[horizontal_orientation]=${isHorizontal}`\n  const rotationIntervalParam = `digital_display_menu[rotation_interval]=${rotationInterval}`\n  const backgroundColorParam = `digital_display_menu[background_color]=${encodeURIComponent(backgroundColor)}`\n  const textColorParam = `digital_display_menu[text_color]=${encodeURIComponent(textColor)}`\n  const listTitleColorParam = `digital_display_menu[list_title_color]=${encodeURIComponent(listTitleColor)}`\n  const fontParam = `digital_display_menu[font]=${font}`\n  const themeParam = `digital_display_menu[theme]=${theme}`\n  const seed = '?' + [\n    orientationParam,\n    rotationIntervalParam,\n    backgroundColorParam,\n    textColorParam,\n    listTitleColorParam,\n    fontParam,\n    themeParam\n  ].join('&')\n  const queryString = buildQueryString(lists, seed)\n  if (id) {\n    // Menu is already persisted\n    return previewPath + queryString + `&digital_display_menu[id]=${id}`\n  } else {\n    // Menu is not yet saved\n    return previewPath + queryString\n  }\n}\n\nexport default generatePreviewPath\n","export function applyFind () {\n  if (!Array.prototype.find) {\n    Object.defineProperty(Array.prototype, 'find', { // eslint-disable-line\n      value: function (predicate) {\n        // 1. Let O be ? ToObject(this value).\n        if (this == null) {\n          throw new TypeError('\"this\" is null or not defined')\n        }\n\n        var o = Object(this)\n\n        // 2. Let len be ? ToLength(? Get(O, \"length\")).\n        var len = o.length >>> 0\n\n        // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n        if (typeof predicate !== 'function') {\n          throw new TypeError('predicate must be a function')\n        }\n\n        // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        var thisArg = arguments[1]\n\n        // 5. Let k be 0.\n        var k = 0\n\n        // 6. Repeat, while k < len\n        while (k < len) {\n          // a. Let Pk be ! ToString(k).\n          // b. Let kValue be ? Get(O, Pk).\n          // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n          // d. If testResult is true, return kValue.\n          var kValue = o[k]\n          if (predicate.call(thisArg, kValue, k, o)) {\n            return kValue\n          }\n          // e. Increase k by 1.\n          k++\n        }\n\n        // 7. Return undefined.\n        return undefined\n      }\n    })\n  }\n}\n\n/* eslint-disable no-extend-native */\nexport function applyIncludes () {\n  if (!Array.prototype.includes) {\n    Object.defineProperty(Array.prototype, 'includes', {\n      value: function (searchElement, fromIndex) {\n        if (this == null) {\n          throw new TypeError('\"this\" is null or not defined')\n        }\n\n        // 1. Let O be ? ToObject(this value).\n        var o = Object(this)\n\n        // 2. Let len be ? ToLength(? Get(O, \"length\")).\n        var len = o.length >>> 0\n\n        // 3. If len is 0, return false.\n        if (len === 0) {\n          return false\n        }\n\n        // 4. Let n be ? ToInteger(fromIndex).\n        //    (If fromIndex is undefined, this step produces the value 0.)\n        var n = fromIndex | 0\n\n        // 5. If n ≥ 0, then\n        //  a. Let k be n.\n        // 6. Else n < 0,\n        //  a. Let k be len + n.\n        //  b. If k < 0, let k be 0.\n        var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0)\n\n        function sameValueZero (x, y) {\n          return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y))\n        }\n\n        // 7. Repeat, while k < len\n        while (k < len) {\n          // a. Let elementK be the result of ? Get(O, ! ToString(k)).\n          // b. If SameValueZero(searchElement, elementK) is true, return true.\n          if (sameValueZero(o[k], searchElement)) {\n            return true\n          }\n          // c. Increase k by 1.\n          k++\n        }\n\n        // 8. Return false\n        return false\n      }\n    })\n  }\n}\n/* eslint-enable no-extend-native */\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass AddButton extends Component {\n  constructor (props) {\n    super(props)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handleClick (event) {\n    const { listId } = this.props\n    event.preventDefault()\n    this.props.onClick(listId)\n  }\n\n  render () {\n    return (\n      <a\n        href=''\n        role='button'\n        data-test='add-list'\n        title='Add list'\n        onClick={this.handleClick}\n        className={`btn btn-outline-secondary btn-sm move-list-button`}>\n        <span className='fas fa-plus fa-lg' />\n      </a>\n    )\n  }\n}\n\nAddButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  listId: PropTypes.number.isRequired\n}\n\nexport default AddButton\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport attributeNameResolver from './attributeNameResolver'\nimport AvailableListItem from './AvailableListItem'\nimport { DropTarget } from 'react-dnd'\nimport itemTypes from './item-types'\n\nconst dropTargetSpec = {\n  drop (props, monitor, component) {\n    const draggedItem = monitor.getItem()\n    const listId = draggedItem.id\n    props.onDrop(listId)\n  }\n}\n\n// props to be injected\nfunction collect (connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver()\n  }\n}\n\nclass AvailableListGroup extends Component {\n  constructor (props) {\n    super(props)\n    this.ifEmptyText = 'No lists available'\n  }\n\n  renderList (listGroupItems) {\n    let itemsToRender\n    if (listGroupItems.length === 0) {\n      itemsToRender = <li className='list-group-item'>{this.ifEmptyText}</li>\n    } else {\n      itemsToRender = listGroupItems\n    }\n\n    return (\n      <ul className='list-group list-group-flush' style={{ maxHeight: '500px', overflow: 'scroll' }}>\n        {itemsToRender}\n      </ul>\n    )\n  }\n\n  render () {\n    const {\n      lists,\n      totalListCount,\n      menuType,\n      onAdd,\n      connectDropTarget,\n      isOver\n    } = this.props\n\n    const style = {\n      opacity: isOver ? 0.5 : 1\n    }\n\n    const nestedAttrsName = attributeNameResolver.resolveNestedAttrName(menuType)\n    const entityName = attributeNameResolver.resolveEntityName(menuType)\n    const nestedEntityIdName = attributeNameResolver.resolveNestedEntityIdName(menuType)\n    const sortedLists = lists.sort((l1, l2) => {\n      if (l1.name < l2.name) return -1\n      if (l1.name > l2.name) return 1\n      return 0\n    })\n    const listGroupItems = sortedLists.map((list, index) => {\n      const listItemProps = {\n        index,\n        list,\n        totalListCount,\n        nestedAttrsName,\n        entityName,\n        nestedEntityIdName,\n        onAdd,\n        key: list.id\n      }\n\n      return <AvailableListItem {...listItemProps} />\n    })\n\n    return connectDropTarget(\n      <div className='card' data-test='menu-lists-available' style={style}>\n        <div className='card-header list-group-heading'>\n          <div className='card-title'>Lists Available</div>\n        </div>\n        {this.renderList(listGroupItems)}\n      </div>\n    )\n  }\n}\n\nAvailableListGroup.propTypes = {\n  lists: PropTypes.array.isRequired,\n  onAdd: PropTypes.func.isRequired,\n  menuType: PropTypes.string.isRequired,\n  totalListCount: PropTypes.number.isRequired,\n  onDrop: PropTypes.func.isRequired,\n  connectDropTarget: PropTypes.func.isRequired,\n  isOver: PropTypes.bool.isRequired\n}\n\nexport default DropTarget(\n  itemTypes.chosenListItem,\n  dropTargetSpec,\n  collect\n)(AvailableListGroup)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport AddButton from './AddButton'\nimport { DragSource } from 'react-dnd'\nimport itemTypes from './item-types'\nimport pluralize from './pluralize'\nimport ListTypeIcon from './ListTypeIcon'\nimport constants from './constants'\n\nclass AvailableListItem extends Component {\n  constructor (props) {\n    super(props)\n    this.onClick = this.onClick.bind(this)\n  }\n\n  onClick (event) {\n    if (!confirm(constants.CONFIRM_TEXT)) {\n      event.preventDefault()\n    }\n  }\n\n  render () {\n    const {\n      index,\n      list,\n      totalListCount,\n      nestedAttrsName,\n      entityName,\n      nestedEntityIdName,\n      connectDragSource,\n      isDragging,\n      onAdd\n    } = this.props\n\n    const style = {\n      opacity: isDragging ? 0 : 1,\n      cursor: 'move'\n    }\n\n    const badgeContent = `${list.itemCount} ${pluralize('item', list.itemCount)}`\n\n    let menuListIdInput, menuListDestroyInput\n    if (list[nestedEntityIdName]) {\n      // Avoid collisions with nestedAttrsName in ChosenListGroup\n      const attrIndex = totalListCount + index\n      menuListIdInput = (\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${attrIndex}][id]`}\n          value={list[nestedEntityIdName]}\n        />\n      )\n      menuListDestroyInput = (\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${attrIndex}][_destroy]`}\n          value='true'\n        />\n      )\n    }\n\n    return connectDragSource(\n      <li className='list-group-item list-group-item-action' data-test='menu-list' style={style}>\n        <div className='valign-wrapper-w10'>\n          <AddButton onClick={onAdd} listId={list.id} />\n        </div>\n        <div className='valign-wrapper-w70'>\n          <a\n            href={list.href}\n            onClick={this.onClick}\n            className='list-name'\n            data-test='list-name'>\n            {list.name}\n          </a>\n        </div>\n        <div className='valign-wrapper-w20'>\n          <ListTypeIcon listType={list.type} />\n          <span\n            data-test='list-badge'\n            className='badge badge-pill badge-secondary float-right mr-2'\n          >{badgeContent}</span>\n        </div>\n        {menuListIdInput}\n        {menuListDestroyInput}\n      </li>\n    )\n  }\n}\n\nconst itemSource = {\n  beginDrag (props) {\n    return {\n      id: props.list.id,\n      index: props.index\n    }\n  }\n}\n\n// specifies which props to inject\nfunction collect (connect, monitor) {\n  return {\n    connectDragSource: connect.dragSource(),\n    isDragging: monitor.isDragging()\n  }\n}\n\nAvailableListItem.propTypes = {\n  index: PropTypes.number.isRequired,\n  list: PropTypes.object.isRequired,\n  totalListCount: PropTypes.number.isRequired,\n  nestedAttrsName: PropTypes.string.isRequired,\n  entityName: PropTypes.string.isRequired,\n  nestedEntityIdName: PropTypes.string.isRequired,\n  connectDragSource: PropTypes.func.isRequired,\n  isDragging: PropTypes.bool.isRequired,\n  onAdd: PropTypes.func.isRequired\n}\n\nexport default DragSource(\n  itemTypes.availableListItem,\n  itemSource,\n  collect\n)(AvailableListItem)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport attributeNameResolver from './attributeNameResolver'\nimport ChosenListItem from './ChosenListItem'\nimport { DropTarget } from 'react-dnd'\nimport itemTypes from './item-types'\n\nconst dropTargetSpec = {\n  drop (props, monitor, component) {\n    const draggedItem = monitor.getItem()\n    const listId = draggedItem.id\n    props.onDrop(listId)\n  }\n}\n\n// props to be injected\nfunction collect (connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver()\n  }\n}\n\nclass ChosenListGroup extends Component {\n  constructor (props) {\n    super(props)\n    this.ifEmptyText = 'Choose at least one list'\n  }\n\n  renderList (listGroupItems) {\n    let itemsToRender\n    if (listGroupItems.length === 0) {\n      itemsToRender = <li className='list-group-item'>{this.ifEmptyText}</li>\n    } else {\n      itemsToRender = listGroupItems\n    }\n\n    return (\n      <ul className='list-group list-group-flush'>\n        {itemsToRender}\n      </ul>\n    )\n  }\n\n  render () {\n    const {\n      lists,\n      onShowPriceChange,\n      onShowDescriptionChange,\n      onDisplayNameChange,\n      onHtmlClassesChange,\n      onImagesListChange,\n      menuType,\n      onRemove,\n      moveItem,\n      connectDropTarget,\n      isOver\n    } = this.props\n    const nestedAttrsName = attributeNameResolver.resolveNestedAttrName(menuType)\n    const entityName = attributeNameResolver.resolveEntityName(menuType)\n    const nestedEntityIdName = attributeNameResolver.resolveNestedEntityIdName(menuType)\n    const listGroupItems = lists.map((list, index) => {\n      const listItemProps = {\n        nestedAttrsName,\n        entityName,\n        nestedEntityIdName,\n        onShowPriceChange,\n        onShowDescriptionChange,\n        onDisplayNameChange,\n        onHtmlClassesChange,\n        onImagesListChange,\n        list,\n        index,\n        onRemove,\n        moveItem,\n        key: list.id\n      }\n      return <ChosenListItem {...listItemProps} />\n    })\n\n    const style = {\n      opacity: isOver ? 0.5 : 1\n    }\n\n    return connectDropTarget(\n      <div className='card' data-test='menu-lists-selected' style={style}>\n        <div className='card-header list-group-heading'>\n          <div className='card-title'>Lists Selected</div>\n        </div>\n        {this.renderList(listGroupItems)}\n      </div>\n    )\n  }\n}\n\nChosenListGroup.propTypes = {\n  lists: PropTypes.array.isRequired,\n  menuType: PropTypes.string.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  onShowPriceChange: PropTypes.func.isRequired,\n  onShowDescriptionChange: PropTypes.func,\n  onDisplayNameChange: PropTypes.func,\n  onHtmlClassesChange: PropTypes.func,\n  onImagesListChange: PropTypes.func,\n  moveItem: PropTypes.func.isRequired,\n  onDrop: PropTypes.func.isRequired,\n  connectDropTarget: PropTypes.func.isRequired,\n  isOver: PropTypes.bool.isRequired\n}\n\nexport default DropTarget(\n  itemTypes.availableListItem,\n  dropTargetSpec,\n  collect\n)(ChosenListGroup)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport RemoveButton from './RemoveButton'\nimport { findDOMNode } from 'react-dom'\nimport itemTypes from './item-types'\nimport { DragSource, DropTarget } from 'react-dnd'\nimport pluralize from './pluralize'\nimport ListTypeIcon from './ListTypeIcon'\nimport ShowPriceInput from './ShowPriceInput'\nimport ShowDescriptionInput from './ShowDescriptionInput'\nimport ListItemImageChoices from './ListItemImageChoices'\nimport constants from './constants'\n\nconst itemSource = {\n  beginDrag (props) {\n    return {\n      id: props.list.id,\n      index: props.index\n    }\n  }\n}\n\nconst itemTarget = {\n  hover (props, monitor, component) {\n    const item = monitor.getItem()\n    const dragIndex = item.index\n    const hoverIndex = props.index\n\n    // Don't replace items with themselves\n    if (dragIndex === hoverIndex) {\n      return\n    }\n\n    // Determine rectangle on screen\n    const hoverBoundingRect = findDOMNode(component).getBoundingClientRect()\n\n    // Get vertical middle\n    const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\n\n    // Determine mouse position\n    const clientOffset = monitor.getClientOffset()\n\n    // Get pixels to the top\n    const hoverClientY = clientOffset.y - hoverBoundingRect.top\n\n    // Only perform the move when the mouse has crossed half of the items height\n    // When dragging downwards, only move when the cursor is below 50%\n    // When dragging upwards, only move when the cursor is above 50%\n\n    // Dragging downwards\n    if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n      return\n    }\n\n    // Dragging upwards\n    if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n      return\n    }\n\n    // Time to actually perform the action\n    props.moveItem(dragIndex, hoverIndex)\n\n    // Note: we're mutating the monitor item here!\n    // Generally it's better to avoid mutations,\n    // but it's good here for the sake of performance\n    // to avoid expensive index searches.\n    item.index = hoverIndex\n  }\n}\n\n// specifies which props to inject\nfunction dragCollect (connect, monitor) {\n  const isDragging = monitor.isDragging()\n  return {\n    connectDragSource: connect.dragSource(),\n    isDragging\n  }\n}\n\n// specifies which props to inject\nfunction dropCollect (connect) {\n  return {\n    connectDropTarget: connect.dropTarget()\n  }\n}\n\nclass ChosenListItem extends Component {\n  constructor (props) {\n    super(props)\n    this.onShowPriceChange = this.onShowPriceChange.bind(this)\n    this.onShowDescriptionChange = this.onShowDescriptionChange.bind(this)\n    this.onDisplayNameChange = this.onDisplayNameChange.bind(this)\n    this.onHtmlClassesChange = this.onHtmlClassesChange.bind(this)\n    this.onImagesListChange = this.onImagesListChange.bind(this)\n    this.toggleImages = this.toggleImages.bind(this)\n    this.toggleSettings = this.toggleSettings.bind(this)\n    this.onClick = this.onClick.bind(this)\n    this.state = {\n      showImages: false,\n      showSettings: false\n    }\n  }\n\n  onShowPriceChange (event) {\n    const { list, onShowPriceChange } = this.props\n    onShowPriceChange(list.id, event.target.checked)\n  }\n\n  onShowDescriptionChange (event) {\n    const { list, onShowDescriptionChange } = this.props\n    onShowDescriptionChange(list.id, event.target.checked)\n  }\n\n  onDisplayNameChange (event) {\n    const { list, onDisplayNameChange } = this.props\n    onDisplayNameChange(list.id, event.target.value)\n  }\n\n  onHtmlClassesChange (event) {\n    const { list, onHtmlClassesChange } = this.props\n    onHtmlClassesChange(list.id, event.target.value)\n  }\n\n  onImagesListChange (itemIds) {\n    const { list, onImagesListChange } = this.props\n    onImagesListChange(list.id, itemIds)\n  }\n\n  toggleImages () {\n    this.setState(prevState => {\n      return { showImages: !prevState.showImages }\n    })\n  }\n\n  toggleSettings () {\n    this.setState(prevState => {\n      return { showSettings: !prevState.showSettings }\n    })\n  }\n\n  onClick (event) {\n    if (!confirm(constants.CONFIRM_TEXT)) {\n      event.preventDefault()\n    }\n  }\n\n  itemsWithImages () {\n    const { list } = this.props\n    if (!list.beers) return []\n    return list.beers.filter(item => !!item.imageUrl)\n  }\n\n  render () {\n    const {\n      index,\n      list,\n      nestedAttrsName,\n      entityName,\n      nestedEntityIdName,\n      onRemove,\n      connectDragSource,\n      connectDropTarget,\n      isDragging\n    } = this.props\n\n    let showDescriptionInput, htmlClassesInput\n\n    if (this.props.onShowDescriptionChange) {\n      showDescriptionInput = (\n        <ShowDescriptionInput\n          entityName={entityName}\n          nestedAttrsName={nestedAttrsName}\n          index={index}\n          onChange={this.onShowDescriptionChange}\n          value={list.show_description_on_menu}\n        />\n      )\n    }\n\n    if (this.props.onHtmlClassesChange) {\n      htmlClassesInput = (\n        <div className='form-group'>\n          <label htmlFor={`list-html-classes-${index}`}>HTML classes</label>\n          <input\n            id={`list-html-classes-${index}`}\n            type='text'\n            name={`${entityName}[${nestedAttrsName}][${index}][html_classes]`}\n            className='form-control'\n            aria-describedby={`html-classes-help-${index}`}\n            defaultValue={list.htmlClasses}\n            onBlur={this.onHtmlClassesChange}\n            data-test='html-classes-input'\n          />\n          <small id={`html-classes-help-${index}`} className='form-text text-muted'>\n            HTML classes to help your designer style this list on your site\n          </small>\n        </div>\n      )\n    }\n\n    let imageIcon = (\n      <span className='hidden-image-toggle-wrapper ml-2'>\n        <i className='far fa-image fa-lg' />\n      </span>\n    )\n\n    if (this.itemsWithImages().length) {\n      let wrapperClass\n      const isActive = this.state.showImages\n      if (isActive) {\n        wrapperClass = 'icon-images-shown'\n      }\n      imageIcon = (\n        <span className={wrapperClass}>\n          <i\n            className='far fa-image fa-lg image-toggle ml-2'\n            title='Show Image Options'\n            role='button'\n            aria-pressed={isActive}\n            onClick={this.toggleImages}\n            data-test='image-toggle' />\n        </span>\n      )\n    }\n    const settingsCog = (\n      <span className={`toggle-settings toggle-settings-${this.state.showSettings ? 'shown' : 'hidden'}`}>\n        <i\n          className='fas fa-cog settings-toggle'\n          title='Show Settings'\n          role='button'\n          aria-pressed={this.state.showSettings}\n          onClick={this.toggleSettings}\n          data-test='settings-toggle' />\n      </span>\n    )\n\n    const badgeContent = `${list.itemCount} ${pluralize('item', list.itemCount)}`\n\n    const style = {\n      opacity: isDragging ? 0 : 1,\n      cursor: 'move'\n    }\n    return connectDragSource(connectDropTarget(\n      <li className='list-group-item list-group-item-action' data-test='menu-list' style={style}>\n        <div className='valign-wrapper-w10'>\n          <RemoveButton onClick={onRemove} listId={list.id} />\n        </div>\n        <div className='valign-wrapper-w50'>\n          <a\n            href={list.href}\n            onClick={this.onClick}\n            className='list-name'\n            data-test='list-name'>\n            {list.name}\n          </a>\n        </div>\n        <div className='valign-wrapper-w40'>\n          {imageIcon}\n          {settingsCog}\n          <ListTypeIcon listType={list.type} />\n          <span\n            data-test='list-badge'\n            className='badge badge-pill badge-success float-right mr-2'\n          >{badgeContent}</span>\n        </div>\n        <div className={`settings ${this.state.showSettings ? 'show' : 'hidden'}`} data-test='list-item-settings'>\n          <ShowPriceInput\n            entityName={entityName}\n            nestedAttrsName={nestedAttrsName}\n            index={index}\n            onChange={this.onShowPriceChange}\n            value={list.show_price_on_menu}\n          />\n          {showDescriptionInput}\n          <div className='form-group'>\n            <label htmlFor={`list-display-name-${index}`}>Display Name</label>\n            <input\n              id={`list-display-name-${index}`}\n              type='text'\n              name={`${entityName}[${nestedAttrsName}][${index}][display_name]`}\n              className='form-control'\n              aria-describedby={`display-name-help-${index}`}\n              defaultValue={list.displayName}\n              onBlur={this.onDisplayNameChange}\n              data-test='display-name-input'\n            />\n            <small id={`display-name-help-${index}`} className='form-text text-muted'>\n              Customize your list's name for just this menu\n            </small>\n          </div>\n          {htmlClassesInput}\n        </div>\n        <ListItemImageChoices\n          itemsWithAvailableImages={this.itemsWithImages()}\n          chosenItemIds={list.items_with_images}\n          entityName={entityName}\n          nestedAttrsName={nestedAttrsName}\n          index={index}\n          show={this.state.showImages}\n          onChange={this.onImagesListChange}\n        />\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${index}][id]`}\n          value={list[nestedEntityIdName]}\n        />\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${index}][list_id]`}\n          value={list.id}\n        />\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${index}][position]`}\n          value={index}\n        />\n      </li>\n    ))\n  }\n}\n\nChosenListItem.defaultProps = {\n  onImagesListChange: () => {}\n}\n\nChosenListItem.propTypes = {\n  list: PropTypes.object.isRequired,\n  index: PropTypes.number.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  onShowPriceChange: PropTypes.func.isRequired,\n  onShowDescriptionChange: PropTypes.func,\n  onDisplayNameChange: PropTypes.func,\n  onHtmlClassesChange: PropTypes.func,\n  onImagesListChange: PropTypes.func,\n  nestedAttrsName: PropTypes.string.isRequired,\n  entityName: PropTypes.string.isRequired,\n  nestedEntityIdName: PropTypes.string.isRequired,\n  connectDragSource: PropTypes.func.isRequired,\n  isDragging: PropTypes.bool.isRequired,\n  moveItem: PropTypes.func.isRequired\n}\n\nconst dropTarget = DropTarget(\n  itemTypes.chosenListItem,\n  itemTarget,\n  dropCollect\n)(ChosenListItem)\n\nexport default DragSource(\n  itemTypes.chosenListItem,\n  itemSource,\n  dragCollect\n)(dropTarget)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { ChromePicker } from 'react-color'\n\nclass ColorPickerInput extends Component {\n  constructor (props) {\n    super(props)\n\n    this.handleFocus = this.handleFocus.bind(this)\n    this.handleClose = this.handleClose.bind(this)\n    this.handleColorChange = this.handleColorChange.bind(this)\n\n    this.state = {\n      showColorPicker: false\n    }\n  }\n\n  handleFocus () {\n    this.setState(prevState => {\n      return { showColorPicker: true }\n    })\n  }\n\n  handleClose () {\n    this.setState(prevState => {\n      return { showColorPicker: false }\n    })\n  }\n\n  handleColorChange (event) {\n    const color = event.target.value\n    this.props.onChangeComplete({ hex: color })\n  }\n\n  renderPicker () {\n    const { onChangeComplete, color } = this.props\n    const popover = {\n      position: 'absolute',\n      zIndex: '2'\n    }\n    const cover = {\n      position: 'fixed',\n      top: '0px',\n      right: '0px',\n      bottom: '0px',\n      left: '0px'\n    }\n\n    let picker\n    if (this.state.showColorPicker) {\n      picker = (\n        <div style={popover}>\n          <div style={cover} onClick={this.handleClose} />\n          <ChromePicker color={color} onChangeComplete={onChangeComplete} disableAlpha />\n        </div>\n      )\n    }\n\n    return picker\n  }\n\n  render () {\n    const { label, color, id, name, dataTest, className } = this.props\n    const picker = this.renderPicker()\n\n    return (\n      <div className={className}>\n        <label>{label}</label>\n        <input\n          id={id}\n          name={name}\n          data-test={dataTest}\n          type='text'\n          className='form-control'\n          value={color}\n          readOnly\n          onFocus={this.handleFocus}\n          onClick={this.handleFocus}\n        />\n        {picker}\n      </div>\n    )\n  }\n}\n\nColorPickerInput.propTypes = {\n  label: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n  onChangeComplete: PropTypes.func.isRequired,\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  dataTest: PropTypes.string.isRequired,\n  className: PropTypes.string\n}\n\nColorPickerInput.defaultProps = {\n  className: 'form-group'\n}\n\nexport default ColorPickerInput\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass HelpIcon extends Component {\n  render () {\n    const { onClick, className } = this.props\n    return (\n      <div className={className}>\n        <i\n          className='far fa-question-circle fa-2x help-icon'\n          aria-hidden='true'\n          data-test='help-icon'\n          onClick={onClick} />\n      </div>\n    )\n  }\n}\n\nHelpIcon.defaultProps = {\n  onClick: () => {},\n  className: ''\n}\n\nHelpIcon.propTypes = {\n  onClick: PropTypes.func,\n  className: PropTypes.string\n}\n\nexport default HelpIcon\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass ListItemImageChoices extends Component {\n  constructor (props) {\n    super(props)\n    this.onChange = this.onChange.bind(this)\n  }\n\n  onChange (event) {\n    const itemId = Number(event.target.value)\n    const { chosenItemIds } = this.props\n    let itemIds\n    if (chosenItemIds.includes(itemId)) {\n      itemIds = chosenItemIds.filter(id => id !== itemId)\n    } else {\n      itemIds = chosenItemIds.concat([itemId])\n    }\n    this.props.onChange(itemIds)\n  }\n\n  render () {\n    const {\n      itemsWithAvailableImages,\n      chosenItemIds,\n      entityName,\n      index,\n      nestedAttrsName,\n      show\n    } = this.props\n    const inputs = itemsWithAvailableImages.map((item, idx) => {\n      const isChecked = chosenItemIds.includes(item.id)\n      const htmlId = `show-image-${item.name}`\n      return (\n        <div className='list-item-image-choice' key={idx} data-test='list-item-image-option'>\n          <label\n            htmlFor={htmlId}\n            data-test='show-image-for-item'>\n            <input\n              type='checkbox'\n              data-test='image-option-input'\n              value={item.id}\n              name={`${entityName}[${nestedAttrsName}][${index}][items_with_images][]`}\n              defaultChecked={isChecked}\n              onChange={this.onChange}\n              id={htmlId} />\n            {item.name}\n          </label>\n        </div>\n      )\n    })\n    return (\n      <div className={`list-item-images-choices ${show ? 'show' : 'hidden'}`} data-test='list-item-image-choices'>\n        {inputs}\n      </div>\n    )\n  }\n}\n\nListItemImageChoices.defaultProps = {\n  imagesWithAvailableImages: [],\n  chosenItemIds: [],\n  show: false\n}\n\nListItemImageChoices.propTypes = {\n  itemsWithAvailableImages: PropTypes.array,\n  chosenItemIds: PropTypes.array,\n  entityName: PropTypes.string.isRequired,\n  nestedAttrsName: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  show: PropTypes.bool\n}\n\nexport default ListItemImageChoices\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nconst beerGlass = 'fa-beer'\nconst cutlery = 'fa-utensils'\nconst coffee = 'fa-coffee'\n\nconst ICONS_BY_TYPE = {\n  'drink': beerGlass,\n  'food': cutlery,\n  'other': coffee\n}\n\nfunction iconFromType (type) {\n  return ICONS_BY_TYPE[type.replace(/\\s+/, '-')] || cutlery\n}\n\nclass ListTypeIcon extends Component {\n  render () {\n    const { listType, className } = this.props\n    const icon = iconFromType(listType)\n    return (\n      <span\n        className={`fas ${icon} ${className}`}\n        aria-hidden='true'\n        title={listType} />\n    )\n  }\n}\n\nListTypeIcon.propTypes = {\n  listType: PropTypes.string.isRequired,\n  className: PropTypes.string\n}\n\nListTypeIcon.defaultProps = {\n  className: 'fa-lg float-right'\n}\n\nexport default ListTypeIcon\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass MenuFormButtons extends Component {\n  render () {\n    const {\n      menuType,\n      canDestroy,\n      submitButtonText,\n      cancelEditPath,\n      children\n    } = this.props\n    let deleteButton\n\n    if (canDestroy) {\n      deleteButton = (\n        <label\n          htmlFor={`${menuType}-form-delete`}\n          className='btn btn-evrgn-delete menu-form-action'\n          data-test={`${menuType}-form-delete`}>\n          Delete\n        </label>\n      )\n    }\n\n    return (\n      <div className='button-wrapper'>\n        <input\n          type='submit'\n          name='commit'\n          value={submitButtonText}\n          className='btn btn-evrgn-primary menu-form-action'\n          data-test={`${menuType}-form-submit`}\n          data-disable-with='Create'\n        />\n        <a href={cancelEditPath}\n          className='btn btn-outline-secondary menu-form-action'\n          data-test={`${menuType}-form-cancel`}>Cancel</a>\n        {deleteButton}\n        {children}\n      </div>\n    )\n  }\n}\n\nMenuFormButtons.defaultProps = {\n  canDestroy: false\n}\n\nMenuFormButtons.propTypes = {\n  menuType: PropTypes.string.isRequired,\n  canDestroy: PropTypes.bool,\n  submitButtonText: PropTypes.string.isRequired,\n  cancelEditPath: PropTypes.string.isRequired\n}\n\nexport default MenuFormButtons\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport HelpIcon from './HelpIcon'\n\nclass Panel extends Component {\n  render () {\n    const {\n      dataTest,\n      title,\n      children,\n      className,\n      headerContent,\n      onToggleHelp,\n      icon\n    } = this.props\n\n    let helpIcon, headerIcon\n    if (onToggleHelp) {\n      helpIcon = <HelpIcon className='float-right' onClick={onToggleHelp} />\n    }\n    if (icon) {\n      headerIcon = <span className={`panel-header-icon ${icon}`} />\n    }\n    return (\n      <div className={`card ${className}`} data-test={dataTest}>\n        <div className='card-header'>\n          {helpIcon}\n          <h3 className='card-title'>\n            {headerIcon}\n            {title}\n            {headerContent}\n          </h3>\n        </div>\n        <div className='card-body'>\n          {children}\n        </div>\n      </div>\n    )\n  }\n}\n\nPanel.defaultProps = {\n  className: ''\n}\n\nPanel.propTypes = {\n  dataTest: PropTypes.string,\n  title: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  headerContent: PropTypes.element,\n  onToggleHelp: PropTypes.func,\n  icon: PropTypes.string\n}\n\nexport default Panel\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass RemoveButton extends Component {\n  constructor (props) {\n    super(props)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handleClick (event) {\n    const { listId } = this.props\n    event.preventDefault()\n    this.props.onClick(listId)\n  }\n\n  render () {\n    return (\n      <a\n        href=''\n        role='button'\n        data-test='remove-list'\n        title='Remove list'\n        onClick={this.handleClick}\n        className={`btn btn-outline-secondary btn-sm move-list-button`}>\n        <span className='fas fa-minus fa-lg' />\n      </a>\n    )\n  }\n}\n\nRemoveButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  listId: PropTypes.number.isRequired\n}\n\nexport default RemoveButton\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass ShowDescriptionInput extends Component {\n  render () {\n    const {\n      entityName,\n      nestedAttrsName,\n      index,\n      value,\n      onChange\n    } = this.props\n    const showDescriptionInputId = `menu_${nestedAttrsName}_${index}_show_description_on_menu`\n    const showDescription = {\n      type: 'checkbox',\n      name: `${entityName}[${nestedAttrsName}][${index}][show_description_on_menu]`,\n      id: showDescriptionInputId,\n      'data-test': 'show-descriptions',\n      value: '1',\n      onChange\n    }\n    // New records always show description\n    if (value === undefined || value) {\n      showDescription.defaultChecked = 'checked'\n    }\n\n    return (\n      <div className='form-check chosen-list-toggle-detail'>\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${index}][show_description_on_menu]`}\n          value='0'\n        />\n        <input {...showDescription} className='form-check-input' />\n        <label\n          htmlFor={showDescriptionInputId}\n          className='menu-list-show-description form-check-label'\n          data-test='show-descriptions-label'>\n          Show description\n        </label>\n      </div>\n    )\n  }\n}\n\nShowDescriptionInput.defaultProps = {\n  value: true\n}\n\nShowDescriptionInput.propTypes = {\n  entityName: PropTypes.string.isRequired,\n  nestedAttrsName: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.bool\n}\n\nexport default ShowDescriptionInput\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass ShowPriceInput extends Component {\n  render () {\n    const {\n      entityName,\n      nestedAttrsName,\n      index,\n      value,\n      onChange\n    } = this.props\n    const showPriceInputId = `menu_${nestedAttrsName}_${index}_show_price_on_menu`\n    const showPrice = {\n      type: 'checkbox',\n      name: `${entityName}[${nestedAttrsName}][${index}][show_price_on_menu]`,\n      id: showPriceInputId,\n      'data-test': 'show-price',\n      value: '1',\n      onChange\n    }\n    // New records always show price\n    if (value === undefined || value) {\n      showPrice.defaultChecked = 'checked'\n    }\n\n    return (\n      <div className='form-check chosen-list-toggle-detail'>\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${index}][show_price_on_menu]`}\n          value='0'\n        />\n        <input {...showPrice} className='form-check-input' />\n        <label\n          htmlFor={showPriceInputId}\n          className='menu-list-show-price form-check-label'\n          data-test='show-price-label'>\n        Show price</label>\n      </div>\n    )\n  }\n}\n\nShowPriceInput.defaultProps = {\n  value: true\n}\n\nShowPriceInput.propTypes = {\n  entityName: PropTypes.string.isRequired,\n  nestedAttrsName: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.bool\n}\n\nexport default ShowPriceInput\n","const attrNamesByMenuType = {\n  pdf: 'menu_lists_attributes',\n  digitalDisplay: 'digital_display_menu_lists_attributes',\n  web: 'web_menu_lists_attributes',\n  online: 'online_menu_lists_attributes'\n}\n\nconst entityNamesByMenuType = {\n  pdf: 'menu',\n  digitalDisplay: 'digital_display_menu',\n  web: 'web_menu',\n  online: 'online_menu'\n}\n\nconst resolveEntityIdName = {\n  pdf: 'menu_list_id',\n  digitalDisplay: 'digital_display_menu_list_id',\n  web: 'web_menu_list_id',\n  online: 'online_menu_list_id'\n}\n\nfunction resolveNestedAttrName (menuType) {\n  return attrNamesByMenuType[menuType]\n}\n\nfunction resolveEntityName (menuType) {\n  return entityNamesByMenuType[menuType]\n}\n\nfunction resolveNestedEntityIdName (menuType) {\n  return resolveEntityIdName[menuType]\n}\n\nexport default {\n  resolveNestedAttrName,\n  resolveEntityName,\n  resolveNestedEntityIdName\n}\n","export default {\n  CONFIRM_TEXT: 'Are you sure you want to leave this menu? Unsaved changes will be lost.'\n}\n","export default {\n  chosenListItem: 'chosen-list-item',\n  availableListItem: 'available-list-item',\n  listItem: 'list-item'\n}\n","export default function (word, count) {\n  return Number(count) === 1 ? word : `${word}s`\n};\n","import attributeNameResolver from './attributeNameResolver'\n\nfunction shouldShowPrice (list) {\n  if (list.show_price_on_menu === undefined) {\n    return true\n  } else {\n    return list.show_price_on_menu\n  }\n}\n\nfunction shouldShowDescription (list) {\n  if (list.show_description_on_menu === undefined) {\n    return true\n  } else {\n    return list.show_description_on_menu\n  }\n}\n\nexport default function initUtils (menuType) {\n  const nestedAttrsName = attributeNameResolver.resolveNestedAttrName(menuType)\n  const entityName = attributeNameResolver.resolveEntityName(menuType)\n  const nestedEntityIdName = attributeNameResolver.resolveNestedEntityIdName(menuType)\n\n  function buildMenuListRep (num) {\n    return `${entityName}[${nestedAttrsName}][${num}]`\n  }\n\n  return {\n    buildMenuListDisplayName (list, index, displayName) {\n      if (!displayName) return ''\n      const listRep = buildMenuListRep(index)\n      return `${listRep}[display_name]=${displayName}`\n    },\n\n    buildMenuListHtmlClasses (list, index, htmlClasses) {\n      if (!htmlClasses) return ''\n      const listRep = buildMenuListRep(index)\n      return `${listRep}[html_classes]=${htmlClasses}`\n    },\n\n    buildMenuListItemsWithImages (list, index) {\n      if (!list.items_with_images) return ''\n\n      const listRep = buildMenuListRep(index)\n      return list.items_with_images.map(itemId => {\n        return `${listRep}[items_with_images][]=${itemId}`\n      }).join('&')\n    },\n\n    buildMenuListShowPrice (list, index) {\n      const listRep = buildMenuListRep(index)\n      const showPrice = shouldShowPrice(list)\n      return `${listRep}[show_price_on_menu]=${showPrice}`\n    },\n\n    buildMenuListShowDescription (list, index) {\n      const listRep = buildMenuListRep(index)\n      const showDesc = shouldShowDescription(list)\n      return `${listRep}[show_description_on_menu]=${showDesc}`\n    },\n\n    buildMenuListPosition (list, index) {\n      const listRep = buildMenuListRep(index)\n      return `${listRep}[position]=${index}`\n    },\n\n    buildMenuListListId (list, index) {\n      const listRep = buildMenuListRep(index)\n      return `${listRep}[list_id]=${list.id}`\n    },\n\n    buildMenuListId (list, index) {\n      const listRep = buildMenuListRep(index)\n      return `${listRep}[id]=${list[nestedEntityIdName]}`\n    }\n  }\n}\n"],"sourceRoot":""}