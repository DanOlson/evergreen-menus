{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/assets/javascripts/online-menu.js","webpack:///./app/assets/javascripts/online-menu/App.js","webpack:///./app/assets/javascripts/online-menu/Preview.js","webpack:///./app/assets/javascripts/online-menu/previewPath.js","webpack:///./app/assets/javascripts/polyfills/Array.js","webpack:///./app/assets/javascripts/shared/AddButton.js","webpack:///./app/assets/javascripts/shared/AvailableListGroup.js","webpack:///./app/assets/javascripts/shared/AvailableListItem.js","webpack:///./app/assets/javascripts/shared/ChosenListGroup.js","webpack:///./app/assets/javascripts/shared/ChosenListItem.js","webpack:///./app/assets/javascripts/shared/HelpIcon.js","webpack:///./app/assets/javascripts/shared/ListItemImageChoices.js","webpack:///./app/assets/javascripts/shared/ListTypeIcon.js","webpack:///./app/assets/javascripts/shared/MenuFormButtons.js","webpack:///./app/assets/javascripts/shared/Panel.js","webpack:///./app/assets/javascripts/shared/RemoveButton.js","webpack:///./app/assets/javascripts/shared/ShowDescriptionInput.js","webpack:///./app/assets/javascripts/shared/ShowPriceInput.js","webpack:///./app/assets/javascripts/shared/attributeNameResolver.js","webpack:///./app/assets/javascripts/shared/constants.js","webpack:///./app/assets/javascripts/shared/item-types.js","webpack:///./app/assets/javascripts/shared/pluralize.js","webpack:///./app/assets/javascripts/shared/previewPathUtils.js"],"names":["bootstrap","root","document","getElementById","window","_EVERGREEN","App","props","menu","lists","listsAvailable","addListToMenu","bind","removeListFromMenu","onShowPriceChange","onShowDescriptionChange","onImagesListChange","onDisplayNameChange","moveChosenList","state","dragIndex","hoverIndex","setState","prevState","dragList","newLists","splice","listId","listToAdd","find","list","id","filter","listToRemove","showPrice","show_price_on_menu","showDesc","show_description_on_menu","itemIds","items_with_images","displayName","previewPath","totalListCount","length","Component","propTypes","PropTypes","object","isRequired","HTML5Backend","FB_TAB_WIDTH","Preview","setWidth","width","obj","offsetWidth","nextProps","scale","handleToggleHelp","transform","string","buildMenuListId","buildMenuListListId","buildMenuListPosition","buildMenuListShowPrice","buildMenuListShowDescription","buildMenuListItemsWithImages","buildMenuListDisplayName","buildQueryString","base","reduce","acc","idx","params","online_menu_list_id","push","join","generatePreviewPath","formState","queryString","applyFind","applyIncludes","Array","prototype","Object","defineProperty","value","predicate","TypeError","o","len","thisArg","arguments","k","kValue","call","undefined","includes","searchElement","fromIndex","n","Math","max","abs","sameValueZero","x","y","isNaN","AddButton","handleClick","event","preventDefault","onClick","func","number","dropTargetSpec","drop","monitor","component","draggedItem","getItem","onDrop","collect","connect","connectDropTarget","dropTarget","isOver","AvailableListGroup","ifEmptyText","listGroupItems","itemsToRender","maxHeight","overflow","menuType","onAdd","style","opacity","nestedAttrsName","attributeNameResolver","resolveNestedAttrName","entityName","resolveEntityName","nestedEntityIdName","resolveNestedEntityIdName","sortedLists","sort","l1","l2","name","map","index","listItemProps","key","renderList","array","bool","itemTypes","chosenListItem","AvailableListItem","confirm","constants","CONFIRM_TEXT","connectDragSource","isDragging","cursor","badgeContent","itemCount","menuListIdInput","menuListDestroyInput","attrIndex","href","type","itemSource","beginDrag","dragSource","availableListItem","ChosenListGroup","onHtmlClassesChange","onRemove","moveItem","itemTarget","hover","item","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","clientOffset","getClientOffset","hoverClientY","dragCollect","dropCollect","ChosenListItem","toggleImages","toggleSettings","showImages","showSettings","target","checked","beers","imageUrl","showDescriptionInput","htmlClassesInput","htmlClasses","imageIcon","itemsWithImages","wrapperClass","isActive","settingsCog","defaultProps","HelpIcon","className","ListItemImageChoices","onChange","itemId","Number","chosenItemIds","concat","itemsWithAvailableImages","show","inputs","isChecked","htmlId","imagesWithAvailableImages","beerGlass","cutlery","coffee","ICONS_BY_TYPE","iconFromType","replace","ListTypeIcon","listType","icon","MenuFormButtons","canDestroy","submitButtonText","cancelEditPath","children","deleteButton","Panel","dataTest","title","headerContent","onToggleHelp","helpIcon","headerIcon","element","RemoveButton","ShowDescriptionInput","showDescriptionInputId","showDescription","defaultChecked","ShowPriceInput","showPriceInputId","attrNamesByMenuType","pdf","digitalDisplay","web","online","entityNamesByMenuType","resolveEntityIdName","listItem","word","count","initUtils","shouldShowPrice","shouldShowDescription","buildMenuListRep","num","listRep","buildMenuListHtmlClasses"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACtJA;;;;AACA;;AACA;;;;;;AAEA,CAAC,SAASA,SAAT,GAAsB;AACrB,MAAMC,OAAOC,SAASC,cAAT,CAAwB,sBAAxB,CAAb;;AAEA,wBAAO,8BAAC,aAAD,EAASC,OAAOC,UAAhB,CAAP,EAAuCJ,IAAvC;AACD,CAJD,I;;;;;;;;;;;;;;;;;;;;;;ACJA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;;;;;;;;;;;;;AAEA;AACA;;IAEMK,G;;;AACJ,eAAaC,KAAb,EAAoB;AAAA;;AAAA,0G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","file":"javascripts/online-menu.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"online-menu\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./app/assets/javascripts/online-menu.js\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react'\nimport { render } from 'react-dom'\nimport App from './online-menu/App';\n\n(function bootstrap () {\n  const root = document.getElementById('online-menu-app-root')\n\n  render(<App {...window._EVERGREEN} />, root)\n})()\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Panel from '../shared/Panel'\nimport Buttons from '../shared/MenuFormButtons'\nimport AvailableListGroup from '../shared/AvailableListGroup'\nimport ChosenListGroup from '../shared/ChosenListGroup'\nimport Preview from './Preview'\nimport generatePreviewPath from './previewPath'\nimport { applyFind, applyIncludes } from '../polyfills/Array'\nimport { DragDropContext } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\n\napplyFind()\napplyIncludes()\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n\n    const {\n      lists,\n      listsAvailable\n    } = props.menu\n\n    this.addListToMenu = this.addListToMenu.bind(this)\n    this.removeListFromMenu = this.removeListFromMenu.bind(this)\n    this.onShowPriceChange = this.onShowPriceChange.bind(this)\n    this.onShowDescriptionChange = this.onShowDescriptionChange.bind(this)\n    this.onImagesListChange = this.onImagesListChange.bind(this)\n    this.onDisplayNameChange = this.onDisplayNameChange.bind(this)\n    this.moveChosenList = this.moveChosenList.bind(this)\n\n    this.state = {\n      lists,\n      listsAvailable\n    }\n  }\n\n  moveChosenList (dragIndex, hoverIndex) {\n    this.setState(prevState => {\n      const { lists } = prevState\n      const dragList = lists[dragIndex]\n      const newLists = [...lists]\n      newLists.splice(dragIndex, 1)\n      newLists.splice(hoverIndex, 0, dragList)\n      return { lists: newLists }\n    })\n  }\n\n  addListToMenu (listId) {\n    this.setState(prevState => {\n      const { lists, listsAvailable } = prevState\n      const listToAdd = listsAvailable.find(list => list.id === listId)\n      const newLists = [...lists, listToAdd]\n      return {\n        listsAvailable: listsAvailable.filter(list => list.id !== listId),\n        lists: newLists\n      }\n    })\n  }\n\n  removeListFromMenu (listId) {\n    this.setState(prevState => {\n      const { lists, listsAvailable } = prevState\n      const listToRemove = lists.find(list => list.id === listId)\n      const newLists = lists.filter(list => list.id !== listId)\n      return {\n        listsAvailable: [...listsAvailable, listToRemove],\n        lists: newLists\n      }\n    })\n  }\n\n  onShowPriceChange (listId, showPrice) {\n    this.setState(prevState => {\n      const { lists } = prevState\n      const list = lists.find(list => list.id === listId)\n      list.show_price_on_menu = showPrice\n      return { lists }\n    })\n  }\n\n  onShowDescriptionChange (listId, showDesc) {\n    this.setState(prevState => {\n      const { lists } = prevState\n      const list = lists.find(list => list.id === listId)\n      list.show_description_on_menu = showDesc\n      return { lists }\n    })\n  }\n\n  onImagesListChange (listId, itemIds) {\n    this.setState(prevState => {\n      const { lists } = prevState\n      const list = lists.find(list => list.id === listId)\n      list.items_with_images = itemIds\n      return { lists }\n    })\n  }\n\n  onDisplayNameChange (listId, displayName) {\n    this.setState(prevState => {\n      const { lists } = prevState\n      const list = lists.find(list => list.id === listId)\n      list.displayName = displayName\n      return { lists }\n    })\n  }\n\n  render () {\n    const {\n      lists,\n      listsAvailable\n    } = this.state\n\n    const previewPath = generatePreviewPath(this.props.menu, this.state)\n    const totalListCount = lists.length + listsAvailable.length\n\n    return (\n      <div className='form-row'>\n        <div className='col-sm-6'>\n          <Panel title='Online Menu' icon='fas fa-globe'>\n            <AvailableListGroup\n              totalListCount={totalListCount}\n              lists={listsAvailable}\n              menuType='online'\n              onAdd={this.addListToMenu}\n              onDrop={this.removeListFromMenu}\n            />\n            <ChosenListGroup\n              lists={lists}\n              menuType='online'\n              onRemove={this.removeListFromMenu}\n              onShowPriceChange={this.onShowPriceChange}\n              onShowDescriptionChange={this.onShowDescriptionChange}\n              onImagesListChange={this.onImagesListChange}\n              onDisplayNameChange={this.onDisplayNameChange}\n              moveItem={this.moveChosenList}\n              onDrop={this.addListToMenu}\n            />\n\n            <Buttons {...this.props} menuType='online-menu' />\n          </Panel>\n        </div>\n        <div className='col-sm-6'>\n          <Preview previewPath={previewPath} />\n        </div>\n      </div>\n    )\n  }\n}\n\nApp.propTypes = {\n  menu: PropTypes.object.isRequired\n}\n\nexport default DragDropContext(HTML5Backend)(App)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Panel from '../shared/Panel'\nconst FB_TAB_WIDTH = 820\n\nclass Preview extends Component {\n  constructor (props) {\n    super(props)\n\n    this.setWidth = this.setWidth.bind(this)\n    this.state = {\n      width: 100\n    }\n  }\n\n  setWidth (obj) {\n    this.width = obj.offsetWidth\n  }\n\n  componentDidMount () {\n    this.setState({ width: this.width })\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.props !== nextProps && !!this.width) {\n      this.setState({ width: this.width })\n    }\n  }\n\n  render () {\n    const { width } = this.state\n    const scale = width / FB_TAB_WIDTH\n    return (\n      <Panel className='sticky-top' title='Preview' onToggleHelp={this.handleToggleHelp}>\n        <div className='menu-preview-wrapper' ref={this.setWidth}>\n          <object\n            data={this.props.previewPath}\n            type='text/html'\n            height='600'\n            style={{ width: FB_TAB_WIDTH, transform: `translate(-19%, -19%) scale(${scale})` }}\n            data-test='online-menu-preview' />\n        </div>\n      </Panel>\n    )\n  }\n}\n\nPreview.propTypes = {\n  previewPath: PropTypes.string.isRequired\n}\n\nexport default Preview\n","import initPreviewUtils from '../shared/previewPathUtils'\n\nconst {\n  buildMenuListId,\n  buildMenuListListId,\n  buildMenuListPosition,\n  buildMenuListShowPrice,\n  buildMenuListShowDescription,\n  buildMenuListItemsWithImages,\n  buildMenuListDisplayName\n} = initPreviewUtils('online')\n\nfunction buildQueryString (lists, base) {\n  return lists.reduce((acc, list, idx) => {\n    let params = [\n      buildMenuListListId(list, idx),\n      buildMenuListPosition(list, idx),\n      buildMenuListShowPrice(list, idx),\n      buildMenuListShowDescription(list, idx),\n      buildMenuListDisplayName(list, idx, list.displayName),\n      buildMenuListItemsWithImages(list, idx)\n    ]\n    if (list.online_menu_list_id) {\n      params.push(buildMenuListId(list, idx))\n    }\n    return acc + '&' + params.join('&')\n  }, base)\n}\n\nfunction generatePreviewPath (menu, formState) {\n  const { lists } = formState\n  const { previewPath, id } = menu\n  const queryString = buildQueryString(lists, '?')\n  if (id) {\n    // Menu is already persisted\n    return previewPath + queryString + `&online_menu[id]=${id}`\n  } else {\n    // Menu is not yet saved\n    return previewPath + queryString\n  }\n}\n\nexport default generatePreviewPath\n","export function applyFind () {\n  if (!Array.prototype.find) {\n    Object.defineProperty(Array.prototype, 'find', { // eslint-disable-line\n      value: function (predicate) {\n        // 1. Let O be ? ToObject(this value).\n        if (this == null) {\n          throw new TypeError('\"this\" is null or not defined')\n        }\n\n        var o = Object(this)\n\n        // 2. Let len be ? ToLength(? Get(O, \"length\")).\n        var len = o.length >>> 0\n\n        // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n        if (typeof predicate !== 'function') {\n          throw new TypeError('predicate must be a function')\n        }\n\n        // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        var thisArg = arguments[1]\n\n        // 5. Let k be 0.\n        var k = 0\n\n        // 6. Repeat, while k < len\n        while (k < len) {\n          // a. Let Pk be ! ToString(k).\n          // b. Let kValue be ? Get(O, Pk).\n          // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n          // d. If testResult is true, return kValue.\n          var kValue = o[k]\n          if (predicate.call(thisArg, kValue, k, o)) {\n            return kValue\n          }\n          // e. Increase k by 1.\n          k++\n        }\n\n        // 7. Return undefined.\n        return undefined\n      }\n    })\n  }\n}\n\n/* eslint-disable no-extend-native */\nexport function applyIncludes () {\n  if (!Array.prototype.includes) {\n    Object.defineProperty(Array.prototype, 'includes', {\n      value: function (searchElement, fromIndex) {\n        if (this == null) {\n          throw new TypeError('\"this\" is null or not defined')\n        }\n\n        // 1. Let O be ? ToObject(this value).\n        var o = Object(this)\n\n        // 2. Let len be ? ToLength(? Get(O, \"length\")).\n        var len = o.length >>> 0\n\n        // 3. If len is 0, return false.\n        if (len === 0) {\n          return false\n        }\n\n        // 4. Let n be ? ToInteger(fromIndex).\n        //    (If fromIndex is undefined, this step produces the value 0.)\n        var n = fromIndex | 0\n\n        // 5. If n ≥ 0, then\n        //  a. Let k be n.\n        // 6. Else n < 0,\n        //  a. Let k be len + n.\n        //  b. If k < 0, let k be 0.\n        var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0)\n\n        function sameValueZero (x, y) {\n          return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y))\n        }\n\n        // 7. Repeat, while k < len\n        while (k < len) {\n          // a. Let elementK be the result of ? Get(O, ! ToString(k)).\n          // b. If SameValueZero(searchElement, elementK) is true, return true.\n          if (sameValueZero(o[k], searchElement)) {\n            return true\n          }\n          // c. Increase k by 1.\n          k++\n        }\n\n        // 8. Return false\n        return false\n      }\n    })\n  }\n}\n/* eslint-enable no-extend-native */\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass AddButton extends Component {\n  constructor (props) {\n    super(props)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handleClick (event) {\n    const { listId } = this.props\n    event.preventDefault()\n    this.props.onClick(listId)\n  }\n\n  render () {\n    return (\n      <a\n        href=''\n        role='button'\n        data-test='add-list'\n        title='Add list'\n        onClick={this.handleClick}\n        className={`btn btn-outline-secondary btn-sm move-list-button`}>\n        <span className='fas fa-plus fa-lg' />\n      </a>\n    )\n  }\n}\n\nAddButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  listId: PropTypes.number.isRequired\n}\n\nexport default AddButton\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport attributeNameResolver from './attributeNameResolver'\nimport AvailableListItem from './AvailableListItem'\nimport { DropTarget } from 'react-dnd'\nimport itemTypes from './item-types'\n\nconst dropTargetSpec = {\n  drop (props, monitor, component) {\n    const draggedItem = monitor.getItem()\n    const listId = draggedItem.id\n    props.onDrop(listId)\n  }\n}\n\n// props to be injected\nfunction collect (connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver()\n  }\n}\n\nclass AvailableListGroup extends Component {\n  constructor (props) {\n    super(props)\n    this.ifEmptyText = 'No lists available'\n  }\n\n  renderList (listGroupItems) {\n    let itemsToRender\n    if (listGroupItems.length === 0) {\n      itemsToRender = <li className='list-group-item'>{this.ifEmptyText}</li>\n    } else {\n      itemsToRender = listGroupItems\n    }\n\n    return (\n      <ul className='list-group list-group-flush' style={{ maxHeight: '500px', overflow: 'scroll' }}>\n        {itemsToRender}\n      </ul>\n    )\n  }\n\n  render () {\n    const {\n      lists,\n      totalListCount,\n      menuType,\n      onAdd,\n      connectDropTarget,\n      isOver\n    } = this.props\n\n    const style = {\n      opacity: isOver ? 0.5 : 1\n    }\n\n    const nestedAttrsName = attributeNameResolver.resolveNestedAttrName(menuType)\n    const entityName = attributeNameResolver.resolveEntityName(menuType)\n    const nestedEntityIdName = attributeNameResolver.resolveNestedEntityIdName(menuType)\n    const sortedLists = lists.sort((l1, l2) => {\n      if (l1.name < l2.name) return -1\n      if (l1.name > l2.name) return 1\n      return 0\n    })\n    const listGroupItems = sortedLists.map((list, index) => {\n      const listItemProps = {\n        index,\n        list,\n        totalListCount,\n        nestedAttrsName,\n        entityName,\n        nestedEntityIdName,\n        onAdd,\n        key: list.id\n      }\n\n      return <AvailableListItem {...listItemProps} />\n    })\n\n    return connectDropTarget(\n      <div className='card' data-test='menu-lists-available' style={style}>\n        <div className='card-header list-group-heading'>\n          <div className='card-title'>Lists Available</div>\n        </div>\n        {this.renderList(listGroupItems)}\n      </div>\n    )\n  }\n}\n\nAvailableListGroup.propTypes = {\n  lists: PropTypes.array.isRequired,\n  onAdd: PropTypes.func.isRequired,\n  menuType: PropTypes.string.isRequired,\n  totalListCount: PropTypes.number.isRequired,\n  onDrop: PropTypes.func.isRequired,\n  connectDropTarget: PropTypes.func.isRequired,\n  isOver: PropTypes.bool.isRequired\n}\n\nexport default DropTarget(\n  itemTypes.chosenListItem,\n  dropTargetSpec,\n  collect\n)(AvailableListGroup)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport AddButton from './AddButton'\nimport { DragSource } from 'react-dnd'\nimport itemTypes from './item-types'\nimport pluralize from './pluralize'\nimport ListTypeIcon from './ListTypeIcon'\nimport constants from './constants'\n\nclass AvailableListItem extends Component {\n  constructor (props) {\n    super(props)\n    this.onClick = this.onClick.bind(this)\n  }\n\n  onClick (event) {\n    if (!confirm(constants.CONFIRM_TEXT)) {\n      event.preventDefault()\n    }\n  }\n\n  render () {\n    const {\n      index,\n      list,\n      totalListCount,\n      nestedAttrsName,\n      entityName,\n      nestedEntityIdName,\n      connectDragSource,\n      isDragging,\n      onAdd\n    } = this.props\n\n    const style = {\n      opacity: isDragging ? 0 : 1,\n      cursor: 'move'\n    }\n\n    const badgeContent = `${list.itemCount} ${pluralize('item', list.itemCount)}`\n\n    let menuListIdInput, menuListDestroyInput\n    if (list[nestedEntityIdName]) {\n      // Avoid collisions with nestedAttrsName in ChosenListGroup\n      const attrIndex = totalListCount + index\n      menuListIdInput = (\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${attrIndex}][id]`}\n          value={list[nestedEntityIdName]}\n        />\n      )\n      menuListDestroyInput = (\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${attrIndex}][_destroy]`}\n          value='true'\n        />\n      )\n    }\n\n    return connectDragSource(\n      <li className='list-group-item list-group-item-action' data-test='menu-list' style={style}>\n        <div className='valign-wrapper-w10'>\n          <AddButton onClick={onAdd} listId={list.id} />\n        </div>\n        <div className='valign-wrapper-w70'>\n          <a\n            href={list.href}\n            onClick={this.onClick}\n            className='list-name'\n            data-test='list-name'>\n            {list.name}\n          </a>\n        </div>\n        <div className='valign-wrapper-w20'>\n          <ListTypeIcon listType={list.type} />\n          <span\n            data-test='list-badge'\n            className='badge badge-pill badge-secondary float-right mr-2'\n          >{badgeContent}</span>\n        </div>\n        {menuListIdInput}\n        {menuListDestroyInput}\n      </li>\n    )\n  }\n}\n\nconst itemSource = {\n  beginDrag (props) {\n    return {\n      id: props.list.id,\n      index: props.index\n    }\n  }\n}\n\n// specifies which props to inject\nfunction collect (connect, monitor) {\n  return {\n    connectDragSource: connect.dragSource(),\n    isDragging: monitor.isDragging()\n  }\n}\n\nAvailableListItem.propTypes = {\n  index: PropTypes.number.isRequired,\n  list: PropTypes.object.isRequired,\n  totalListCount: PropTypes.number.isRequired,\n  nestedAttrsName: PropTypes.string.isRequired,\n  entityName: PropTypes.string.isRequired,\n  nestedEntityIdName: PropTypes.string.isRequired,\n  connectDragSource: PropTypes.func.isRequired,\n  isDragging: PropTypes.bool.isRequired,\n  onAdd: PropTypes.func.isRequired\n}\n\nexport default DragSource(\n  itemTypes.availableListItem,\n  itemSource,\n  collect\n)(AvailableListItem)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport attributeNameResolver from './attributeNameResolver'\nimport ChosenListItem from './ChosenListItem'\nimport { DropTarget } from 'react-dnd'\nimport itemTypes from './item-types'\n\nconst dropTargetSpec = {\n  drop (props, monitor, component) {\n    const draggedItem = monitor.getItem()\n    const listId = draggedItem.id\n    props.onDrop(listId)\n  }\n}\n\n// props to be injected\nfunction collect (connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver()\n  }\n}\n\nclass ChosenListGroup extends Component {\n  constructor (props) {\n    super(props)\n    this.ifEmptyText = 'Choose at least one list'\n  }\n\n  renderList (listGroupItems) {\n    let itemsToRender\n    if (listGroupItems.length === 0) {\n      itemsToRender = <li className='list-group-item'>{this.ifEmptyText}</li>\n    } else {\n      itemsToRender = listGroupItems\n    }\n\n    return (\n      <ul className='list-group list-group-flush'>\n        {itemsToRender}\n      </ul>\n    )\n  }\n\n  render () {\n    const {\n      lists,\n      onShowPriceChange,\n      onShowDescriptionChange,\n      onDisplayNameChange,\n      onHtmlClassesChange,\n      onImagesListChange,\n      menuType,\n      onRemove,\n      moveItem,\n      connectDropTarget,\n      isOver\n    } = this.props\n    const nestedAttrsName = attributeNameResolver.resolveNestedAttrName(menuType)\n    const entityName = attributeNameResolver.resolveEntityName(menuType)\n    const nestedEntityIdName = attributeNameResolver.resolveNestedEntityIdName(menuType)\n    const listGroupItems = lists.map((list, index) => {\n      const listItemProps = {\n        nestedAttrsName,\n        entityName,\n        nestedEntityIdName,\n        onShowPriceChange,\n        onShowDescriptionChange,\n        onDisplayNameChange,\n        onHtmlClassesChange,\n        onImagesListChange,\n        list,\n        index,\n        onRemove,\n        moveItem,\n        key: list.id\n      }\n      return <ChosenListItem {...listItemProps} />\n    })\n\n    const style = {\n      opacity: isOver ? 0.5 : 1\n    }\n\n    return connectDropTarget(\n      <div className='card' data-test='menu-lists-selected' style={style}>\n        <div className='card-header list-group-heading'>\n          <div className='card-title'>Lists Selected</div>\n        </div>\n        {this.renderList(listGroupItems)}\n      </div>\n    )\n  }\n}\n\nChosenListGroup.propTypes = {\n  lists: PropTypes.array.isRequired,\n  menuType: PropTypes.string.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  onShowPriceChange: PropTypes.func.isRequired,\n  onShowDescriptionChange: PropTypes.func,\n  onDisplayNameChange: PropTypes.func,\n  onHtmlClassesChange: PropTypes.func,\n  onImagesListChange: PropTypes.func,\n  moveItem: PropTypes.func.isRequired,\n  onDrop: PropTypes.func.isRequired,\n  connectDropTarget: PropTypes.func.isRequired,\n  isOver: PropTypes.bool.isRequired\n}\n\nexport default DropTarget(\n  itemTypes.availableListItem,\n  dropTargetSpec,\n  collect\n)(ChosenListGroup)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport RemoveButton from './RemoveButton'\nimport { findDOMNode } from 'react-dom'\nimport itemTypes from './item-types'\nimport { DragSource, DropTarget } from 'react-dnd'\nimport pluralize from './pluralize'\nimport ListTypeIcon from './ListTypeIcon'\nimport ShowPriceInput from './ShowPriceInput'\nimport ShowDescriptionInput from './ShowDescriptionInput'\nimport ListItemImageChoices from './ListItemImageChoices'\nimport constants from './constants'\n\nconst itemSource = {\n  beginDrag (props) {\n    return {\n      id: props.list.id,\n      index: props.index\n    }\n  }\n}\n\nconst itemTarget = {\n  hover (props, monitor, component) {\n    const item = monitor.getItem()\n    const dragIndex = item.index\n    const hoverIndex = props.index\n\n    // Don't replace items with themselves\n    if (dragIndex === hoverIndex) {\n      return\n    }\n\n    // Determine rectangle on screen\n    const hoverBoundingRect = findDOMNode(component).getBoundingClientRect()\n\n    // Get vertical middle\n    const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\n\n    // Determine mouse position\n    const clientOffset = monitor.getClientOffset()\n\n    // Get pixels to the top\n    const hoverClientY = clientOffset.y - hoverBoundingRect.top\n\n    // Only perform the move when the mouse has crossed half of the items height\n    // When dragging downwards, only move when the cursor is below 50%\n    // When dragging upwards, only move when the cursor is above 50%\n\n    // Dragging downwards\n    if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n      return\n    }\n\n    // Dragging upwards\n    if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n      return\n    }\n\n    // Time to actually perform the action\n    props.moveItem(dragIndex, hoverIndex)\n\n    // Note: we're mutating the monitor item here!\n    // Generally it's better to avoid mutations,\n    // but it's good here for the sake of performance\n    // to avoid expensive index searches.\n    item.index = hoverIndex\n  }\n}\n\n// specifies which props to inject\nfunction dragCollect (connect, monitor) {\n  const isDragging = monitor.isDragging()\n  return {\n    connectDragSource: connect.dragSource(),\n    isDragging\n  }\n}\n\n// specifies which props to inject\nfunction dropCollect (connect) {\n  return {\n    connectDropTarget: connect.dropTarget()\n  }\n}\n\nclass ChosenListItem extends Component {\n  constructor (props) {\n    super(props)\n    this.onShowPriceChange = this.onShowPriceChange.bind(this)\n    this.onShowDescriptionChange = this.onShowDescriptionChange.bind(this)\n    this.onDisplayNameChange = this.onDisplayNameChange.bind(this)\n    this.onHtmlClassesChange = this.onHtmlClassesChange.bind(this)\n    this.onImagesListChange = this.onImagesListChange.bind(this)\n    this.toggleImages = this.toggleImages.bind(this)\n    this.toggleSettings = this.toggleSettings.bind(this)\n    this.onClick = this.onClick.bind(this)\n    this.state = {\n      showImages: false,\n      showSettings: false\n    }\n  }\n\n  onShowPriceChange (event) {\n    const { list, onShowPriceChange } = this.props\n    onShowPriceChange(list.id, event.target.checked)\n  }\n\n  onShowDescriptionChange (event) {\n    const { list, onShowDescriptionChange } = this.props\n    onShowDescriptionChange(list.id, event.target.checked)\n  }\n\n  onDisplayNameChange (event) {\n    const { list, onDisplayNameChange } = this.props\n    onDisplayNameChange(list.id, event.target.value)\n  }\n\n  onHtmlClassesChange (event) {\n    const { list, onHtmlClassesChange } = this.props\n    onHtmlClassesChange(list.id, event.target.value)\n  }\n\n  onImagesListChange (itemIds) {\n    const { list, onImagesListChange } = this.props\n    onImagesListChange(list.id, itemIds)\n  }\n\n  toggleImages () {\n    this.setState(prevState => {\n      return { showImages: !prevState.showImages }\n    })\n  }\n\n  toggleSettings () {\n    this.setState(prevState => {\n      return { showSettings: !prevState.showSettings }\n    })\n  }\n\n  onClick (event) {\n    if (!confirm(constants.CONFIRM_TEXT)) {\n      event.preventDefault()\n    }\n  }\n\n  itemsWithImages () {\n    const { list } = this.props\n    if (!list.beers) return []\n    return list.beers.filter(item => !!item.imageUrl)\n  }\n\n  render () {\n    const {\n      index,\n      list,\n      nestedAttrsName,\n      entityName,\n      nestedEntityIdName,\n      onRemove,\n      connectDragSource,\n      connectDropTarget,\n      isDragging\n    } = this.props\n\n    let showDescriptionInput, htmlClassesInput\n\n    if (this.props.onShowDescriptionChange) {\n      showDescriptionInput = (\n        <ShowDescriptionInput\n          entityName={entityName}\n          nestedAttrsName={nestedAttrsName}\n          index={index}\n          onChange={this.onShowDescriptionChange}\n          value={list.show_description_on_menu}\n        />\n      )\n    }\n\n    if (this.props.onHtmlClassesChange) {\n      htmlClassesInput = (\n        <div className='form-group'>\n          <label htmlFor={`list-html-classes-${index}`}>HTML classes</label>\n          <input\n            id={`list-html-classes-${index}`}\n            type='text'\n            name={`${entityName}[${nestedAttrsName}][${index}][html_classes]`}\n            className='form-control'\n            aria-describedby={`html-classes-help-${index}`}\n            defaultValue={list.htmlClasses}\n            onBlur={this.onHtmlClassesChange}\n            data-test='html-classes-input'\n          />\n          <small id={`html-classes-help-${index}`} className='form-text text-muted'>\n            HTML classes to help your designer style this list on your site\n          </small>\n        </div>\n      )\n    }\n\n    let imageIcon = (\n      <span className='hidden-image-toggle-wrapper ml-2'>\n        <i className='far fa-image fa-lg' />\n      </span>\n    )\n\n    if (this.itemsWithImages().length) {\n      let wrapperClass\n      const isActive = this.state.showImages\n      if (isActive) {\n        wrapperClass = 'icon-images-shown'\n      }\n      imageIcon = (\n        <span className={wrapperClass}>\n          <i\n            className='far fa-image fa-lg image-toggle ml-2'\n            title='Show Image Options'\n            role='button'\n            aria-pressed={isActive}\n            onClick={this.toggleImages}\n            data-test='image-toggle' />\n        </span>\n      )\n    }\n    const settingsCog = (\n      <span className={`toggle-settings toggle-settings-${this.state.showSettings ? 'shown' : 'hidden'}`}>\n        <i\n          className='fas fa-cog settings-toggle'\n          title='Show Settings'\n          role='button'\n          aria-pressed={this.state.showSettings}\n          onClick={this.toggleSettings}\n          data-test='settings-toggle' />\n      </span>\n    )\n\n    const badgeContent = `${list.itemCount} ${pluralize('item', list.itemCount)}`\n\n    const style = {\n      opacity: isDragging ? 0 : 1,\n      cursor: 'move'\n    }\n    return connectDragSource(connectDropTarget(\n      <li className='list-group-item list-group-item-action' data-test='menu-list' style={style}>\n        <div className='valign-wrapper-w10'>\n          <RemoveButton onClick={onRemove} listId={list.id} />\n        </div>\n        <div className='valign-wrapper-w50'>\n          <a\n            href={list.href}\n            onClick={this.onClick}\n            className='list-name'\n            data-test='list-name'>\n            {list.name}\n          </a>\n        </div>\n        <div className='valign-wrapper-w40'>\n          {imageIcon}\n          {settingsCog}\n          <ListTypeIcon listType={list.type} />\n          <span\n            data-test='list-badge'\n            className='badge badge-pill badge-success float-right mr-2'\n          >{badgeContent}</span>\n        </div>\n        <div className={`settings ${this.state.showSettings ? 'show' : 'hidden'}`} data-test='list-item-settings'>\n          <ShowPriceInput\n            entityName={entityName}\n            nestedAttrsName={nestedAttrsName}\n            index={index}\n            onChange={this.onShowPriceChange}\n            value={list.show_price_on_menu}\n          />\n          {showDescriptionInput}\n          <div className='form-group'>\n            <label htmlFor={`list-display-name-${index}`}>Display Name</label>\n            <input\n              id={`list-display-name-${index}`}\n              type='text'\n              name={`${entityName}[${nestedAttrsName}][${index}][display_name]`}\n              className='form-control'\n              aria-describedby={`display-name-help-${index}`}\n              defaultValue={list.displayName}\n              onBlur={this.onDisplayNameChange}\n              data-test='display-name-input'\n            />\n            <small id={`display-name-help-${index}`} className='form-text text-muted'>\n              Customize your list's name for just this menu\n            </small>\n          </div>\n          {htmlClassesInput}\n        </div>\n        <ListItemImageChoices\n          itemsWithAvailableImages={this.itemsWithImages()}\n          chosenItemIds={list.items_with_images}\n          entityName={entityName}\n          nestedAttrsName={nestedAttrsName}\n          index={index}\n          show={this.state.showImages}\n          onChange={this.onImagesListChange}\n        />\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${index}][id]`}\n          value={list[nestedEntityIdName]}\n        />\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${index}][list_id]`}\n          value={list.id}\n        />\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${index}][position]`}\n          value={index}\n        />\n      </li>\n    ))\n  }\n}\n\nChosenListItem.defaultProps = {\n  onImagesListChange: () => {}\n}\n\nChosenListItem.propTypes = {\n  list: PropTypes.object.isRequired,\n  index: PropTypes.number.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  onShowPriceChange: PropTypes.func.isRequired,\n  onShowDescriptionChange: PropTypes.func,\n  onDisplayNameChange: PropTypes.func,\n  onHtmlClassesChange: PropTypes.func,\n  onImagesListChange: PropTypes.func,\n  nestedAttrsName: PropTypes.string.isRequired,\n  entityName: PropTypes.string.isRequired,\n  nestedEntityIdName: PropTypes.string.isRequired,\n  connectDragSource: PropTypes.func.isRequired,\n  isDragging: PropTypes.bool.isRequired,\n  moveItem: PropTypes.func.isRequired\n}\n\nconst dropTarget = DropTarget(\n  itemTypes.chosenListItem,\n  itemTarget,\n  dropCollect\n)(ChosenListItem)\n\nexport default DragSource(\n  itemTypes.chosenListItem,\n  itemSource,\n  dragCollect\n)(dropTarget)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass HelpIcon extends Component {\n  render () {\n    const { onClick, className } = this.props\n    return (\n      <div className={className}>\n        <i\n          className='far fa-question-circle fa-2x help-icon'\n          aria-hidden='true'\n          data-test='help-icon'\n          onClick={onClick} />\n      </div>\n    )\n  }\n}\n\nHelpIcon.defaultProps = {\n  onClick: () => {},\n  className: ''\n}\n\nHelpIcon.propTypes = {\n  onClick: PropTypes.func,\n  className: PropTypes.string\n}\n\nexport default HelpIcon\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass ListItemImageChoices extends Component {\n  constructor (props) {\n    super(props)\n    this.onChange = this.onChange.bind(this)\n  }\n\n  onChange (event) {\n    const itemId = Number(event.target.value)\n    const { chosenItemIds } = this.props\n    let itemIds\n    if (chosenItemIds.includes(itemId)) {\n      itemIds = chosenItemIds.filter(id => id !== itemId)\n    } else {\n      itemIds = chosenItemIds.concat([itemId])\n    }\n    this.props.onChange(itemIds)\n  }\n\n  render () {\n    const {\n      itemsWithAvailableImages,\n      chosenItemIds,\n      entityName,\n      index,\n      nestedAttrsName,\n      show\n    } = this.props\n    const inputs = itemsWithAvailableImages.map((item, idx) => {\n      const isChecked = chosenItemIds.includes(item.id)\n      const htmlId = `show-image-${item.name}`\n      return (\n        <div className='list-item-image-choice' key={idx} data-test='list-item-image-option'>\n          <label\n            htmlFor={htmlId}\n            data-test='show-image-for-item'>\n            <input\n              type='checkbox'\n              data-test='image-option-input'\n              value={item.id}\n              name={`${entityName}[${nestedAttrsName}][${index}][items_with_images][]`}\n              defaultChecked={isChecked}\n              onChange={this.onChange}\n              id={htmlId} />\n            {item.name}\n          </label>\n        </div>\n      )\n    })\n    return (\n      <div className={`list-item-images-choices ${show ? 'show' : 'hidden'}`} data-test='list-item-image-choices'>\n        {inputs}\n      </div>\n    )\n  }\n}\n\nListItemImageChoices.defaultProps = {\n  imagesWithAvailableImages: [],\n  chosenItemIds: [],\n  show: false\n}\n\nListItemImageChoices.propTypes = {\n  itemsWithAvailableImages: PropTypes.array,\n  chosenItemIds: PropTypes.array,\n  entityName: PropTypes.string.isRequired,\n  nestedAttrsName: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  show: PropTypes.bool\n}\n\nexport default ListItemImageChoices\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nconst beerGlass = 'fa-beer'\nconst cutlery = 'fa-utensils'\nconst coffee = 'fa-coffee'\n\nconst ICONS_BY_TYPE = {\n  'drink': beerGlass,\n  'food': cutlery,\n  'other': coffee\n}\n\nfunction iconFromType (type) {\n  return ICONS_BY_TYPE[type.replace(/\\s+/, '-')] || cutlery\n}\n\nclass ListTypeIcon extends Component {\n  render () {\n    const { listType, className } = this.props\n    const icon = iconFromType(listType)\n    return (\n      <span\n        className={`fas ${icon} ${className}`}\n        aria-hidden='true'\n        title={listType} />\n    )\n  }\n}\n\nListTypeIcon.propTypes = {\n  listType: PropTypes.string.isRequired,\n  className: PropTypes.string\n}\n\nListTypeIcon.defaultProps = {\n  className: 'fa-lg float-right'\n}\n\nexport default ListTypeIcon\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass MenuFormButtons extends Component {\n  render () {\n    const {\n      menuType,\n      canDestroy,\n      submitButtonText,\n      cancelEditPath,\n      children\n    } = this.props\n    let deleteButton\n\n    if (canDestroy) {\n      deleteButton = (\n        <label\n          htmlFor={`${menuType}-form-delete`}\n          className='btn btn-evrgn-delete menu-form-action'\n          data-test={`${menuType}-form-delete`}>\n          Delete\n        </label>\n      )\n    }\n\n    return (\n      <div className='button-wrapper'>\n        <input\n          type='submit'\n          name='commit'\n          value={submitButtonText}\n          className='btn btn-evrgn-primary menu-form-action'\n          data-test={`${menuType}-form-submit`}\n          data-disable-with='Create'\n        />\n        <a href={cancelEditPath}\n          className='btn btn-outline-secondary menu-form-action'\n          data-test={`${menuType}-form-cancel`}>Cancel</a>\n        {deleteButton}\n        {children}\n      </div>\n    )\n  }\n}\n\nMenuFormButtons.defaultProps = {\n  canDestroy: false\n}\n\nMenuFormButtons.propTypes = {\n  menuType: PropTypes.string.isRequired,\n  canDestroy: PropTypes.bool,\n  submitButtonText: PropTypes.string.isRequired,\n  cancelEditPath: PropTypes.string.isRequired\n}\n\nexport default MenuFormButtons\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport HelpIcon from './HelpIcon'\n\nclass Panel extends Component {\n  render () {\n    const {\n      dataTest,\n      title,\n      children,\n      className,\n      headerContent,\n      onToggleHelp,\n      icon\n    } = this.props\n\n    let helpIcon, headerIcon\n    if (onToggleHelp) {\n      helpIcon = <HelpIcon className='float-right' onClick={onToggleHelp} />\n    }\n    if (icon) {\n      headerIcon = <span className={`panel-header-icon ${icon}`} />\n    }\n    return (\n      <div className={`card ${className}`} data-test={dataTest}>\n        <div className='card-header'>\n          {helpIcon}\n          <h3 className='card-title'>\n            {headerIcon}\n            {title}\n            {headerContent}\n          </h3>\n        </div>\n        <div className='card-body'>\n          {children}\n        </div>\n      </div>\n    )\n  }\n}\n\nPanel.defaultProps = {\n  className: ''\n}\n\nPanel.propTypes = {\n  dataTest: PropTypes.string,\n  title: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  headerContent: PropTypes.element,\n  onToggleHelp: PropTypes.func,\n  icon: PropTypes.string\n}\n\nexport default Panel\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass RemoveButton extends Component {\n  constructor (props) {\n    super(props)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handleClick (event) {\n    const { listId } = this.props\n    event.preventDefault()\n    this.props.onClick(listId)\n  }\n\n  render () {\n    return (\n      <a\n        href=''\n        role='button'\n        data-test='remove-list'\n        title='Remove list'\n        onClick={this.handleClick}\n        className={`btn btn-outline-secondary btn-sm move-list-button`}>\n        <span className='fas fa-minus fa-lg' />\n      </a>\n    )\n  }\n}\n\nRemoveButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  listId: PropTypes.number.isRequired\n}\n\nexport default RemoveButton\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass ShowDescriptionInput extends Component {\n  render () {\n    const {\n      entityName,\n      nestedAttrsName,\n      index,\n      value,\n      onChange\n    } = this.props\n    const showDescriptionInputId = `menu_${nestedAttrsName}_${index}_show_description_on_menu`\n    const showDescription = {\n      type: 'checkbox',\n      name: `${entityName}[${nestedAttrsName}][${index}][show_description_on_menu]`,\n      id: showDescriptionInputId,\n      'data-test': 'show-descriptions',\n      value: '1',\n      onChange\n    }\n    // New records always show description\n    if (value === undefined || value) {\n      showDescription.defaultChecked = 'checked'\n    }\n\n    return (\n      <div className='form-check chosen-list-toggle-detail'>\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${index}][show_description_on_menu]`}\n          value='0'\n        />\n        <input {...showDescription} className='form-check-input' />\n        <label\n          htmlFor={showDescriptionInputId}\n          className='menu-list-show-description form-check-label'\n          data-test='show-descriptions-label'>\n          Show description\n        </label>\n      </div>\n    )\n  }\n}\n\nShowDescriptionInput.defaultProps = {\n  value: true\n}\n\nShowDescriptionInput.propTypes = {\n  entityName: PropTypes.string.isRequired,\n  nestedAttrsName: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.bool\n}\n\nexport default ShowDescriptionInput\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass ShowPriceInput extends Component {\n  render () {\n    const {\n      entityName,\n      nestedAttrsName,\n      index,\n      value,\n      onChange\n    } = this.props\n    const showPriceInputId = `menu_${nestedAttrsName}_${index}_show_price_on_menu`\n    const showPrice = {\n      type: 'checkbox',\n      name: `${entityName}[${nestedAttrsName}][${index}][show_price_on_menu]`,\n      id: showPriceInputId,\n      'data-test': 'show-price',\n      value: '1',\n      onChange\n    }\n    // New records always show price\n    if (value === undefined || value) {\n      showPrice.defaultChecked = 'checked'\n    }\n\n    return (\n      <div className='form-check chosen-list-toggle-detail'>\n        <input\n          type='hidden'\n          name={`${entityName}[${nestedAttrsName}][${index}][show_price_on_menu]`}\n          value='0'\n        />\n        <input {...showPrice} className='form-check-input' />\n        <label\n          htmlFor={showPriceInputId}\n          className='menu-list-show-price form-check-label'\n          data-test='show-price-label'>\n        Show price</label>\n      </div>\n    )\n  }\n}\n\nShowPriceInput.defaultProps = {\n  value: true\n}\n\nShowPriceInput.propTypes = {\n  entityName: PropTypes.string.isRequired,\n  nestedAttrsName: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.bool\n}\n\nexport default ShowPriceInput\n","const attrNamesByMenuType = {\n  pdf: 'menu_lists_attributes',\n  digitalDisplay: 'digital_display_menu_lists_attributes',\n  web: 'web_menu_lists_attributes',\n  online: 'online_menu_lists_attributes'\n}\n\nconst entityNamesByMenuType = {\n  pdf: 'menu',\n  digitalDisplay: 'digital_display_menu',\n  web: 'web_menu',\n  online: 'online_menu'\n}\n\nconst resolveEntityIdName = {\n  pdf: 'menu_list_id',\n  digitalDisplay: 'digital_display_menu_list_id',\n  web: 'web_menu_list_id',\n  online: 'online_menu_list_id'\n}\n\nfunction resolveNestedAttrName (menuType) {\n  return attrNamesByMenuType[menuType]\n}\n\nfunction resolveEntityName (menuType) {\n  return entityNamesByMenuType[menuType]\n}\n\nfunction resolveNestedEntityIdName (menuType) {\n  return resolveEntityIdName[menuType]\n}\n\nexport default {\n  resolveNestedAttrName,\n  resolveEntityName,\n  resolveNestedEntityIdName\n}\n","export default {\n  CONFIRM_TEXT: 'Are you sure you want to leave this menu? Unsaved changes will be lost.'\n}\n","export default {\n  chosenListItem: 'chosen-list-item',\n  availableListItem: 'available-list-item',\n  listItem: 'list-item'\n}\n","export default function (word, count) {\n  return Number(count) === 1 ? word : `${word}s`\n};\n","import attributeNameResolver from './attributeNameResolver'\n\nfunction shouldShowPrice (list) {\n  if (list.show_price_on_menu === undefined) {\n    return true\n  } else {\n    return list.show_price_on_menu\n  }\n}\n\nfunction shouldShowDescription (list) {\n  if (list.show_description_on_menu === undefined) {\n    return true\n  } else {\n    return list.show_description_on_menu\n  }\n}\n\nexport default function initUtils (menuType) {\n  const nestedAttrsName = attributeNameResolver.resolveNestedAttrName(menuType)\n  const entityName = attributeNameResolver.resolveEntityName(menuType)\n  const nestedEntityIdName = attributeNameResolver.resolveNestedEntityIdName(menuType)\n\n  function buildMenuListRep (num) {\n    return `${entityName}[${nestedAttrsName}][${num}]`\n  }\n\n  return {\n    buildMenuListDisplayName (list, index, displayName) {\n      if (!displayName) return ''\n      const listRep = buildMenuListRep(index)\n      return `${listRep}[display_name]=${displayName}`\n    },\n\n    buildMenuListHtmlClasses (list, index, htmlClasses) {\n      if (!htmlClasses) return ''\n      const listRep = buildMenuListRep(index)\n      return `${listRep}[html_classes]=${htmlClasses}`\n    },\n\n    buildMenuListItemsWithImages (list, index) {\n      if (!list.items_with_images) return ''\n\n      const listRep = buildMenuListRep(index)\n      return list.items_with_images.map(itemId => {\n        return `${listRep}[items_with_images][]=${itemId}`\n      }).join('&')\n    },\n\n    buildMenuListShowPrice (list, index) {\n      const listRep = buildMenuListRep(index)\n      const showPrice = shouldShowPrice(list)\n      return `${listRep}[show_price_on_menu]=${showPrice}`\n    },\n\n    buildMenuListShowDescription (list, index) {\n      const listRep = buildMenuListRep(index)\n      const showDesc = shouldShowDescription(list)\n      return `${listRep}[show_description_on_menu]=${showDesc}`\n    },\n\n    buildMenuListPosition (list, index) {\n      const listRep = buildMenuListRep(index)\n      return `${listRep}[position]=${index}`\n    },\n\n    buildMenuListListId (list, index) {\n      const listRep = buildMenuListRep(index)\n      return `${listRep}[list_id]=${list.id}`\n    },\n\n    buildMenuListId (list, index) {\n      const listRep = buildMenuListRep(index)\n      return `${listRep}[id]=${list[nestedEntityIdName]}`\n    }\n  }\n}\n"],"sourceRoot":""}